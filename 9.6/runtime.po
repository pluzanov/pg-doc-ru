# Alexander Lakhin <a.lakhin@postgrespro.ru>, 2012, 2013, 2015, 2016.
# Pavel Luzanov <p.luzanov@postgrespro.ru>, 2015, 2016.
msgid ""
msgstr ""
"Project-Id-Version: \n"
"POT-Creation-Date: 2016-10-25 08:45+0300\n"
"PO-Revision-Date: 2016-04-13 09:36+0300\n"
"Language-Team: Russian <pgsql-docs@lists.postgrespro.ru>\n"
"Language: ru\n"
"MIME-Version: 1.0\n"
"Content-Type: text/plain; charset=UTF-8\n"
"Content-Transfer-Encoding: 8bit\n"
"Plural-Forms: nplurals=3; plural=(n%10==1 && n%100!=11 ? 0 : n%10>=2 && n"
"%10<=4 && (n%100<10 || n%100>=20) ? 1 : 2);\n"
"X-Generator: Lokalize 2.0\n"

#: runtime.xml:5(title)
msgid "Server Setup and Operation"
msgstr "Подготовка к работе и сопровождение сервера"

#: runtime.xml:7(para)
msgid ""
"This chapter discusses how to set up and run the database server and its "
"interactions with the operating system."
msgstr ""
"В этой главе рассказывается, как организовать работу сервера баз данных и "
"его взаимодействие с операционной системой, а также о некоторых задачах "
"сопровождения."

#: runtime.xml:13(title)
msgid "The <productname>PostgreSQL</productname> User Account"
msgstr "Учётная запись пользователя <productname>PostgreSQL</productname>"

#: runtime.xml:15(indexterm)
msgid "<primary>postgres user</primary>"
msgstr "<primary>пользователь postgres</primary>"

#: runtime.xml:19(para)
msgid ""
"As with any server daemon that is accessible to the outside world, it is "
"advisable to run <productname>PostgreSQL</productname> under a separate user "
"account. This user account should only own the data that is managed by the "
"server, and should not be shared with other daemons. (For example, using the "
"user <literal>nobody</literal> is a bad idea.) It is not advisable to "
"install executables owned by this user because compromised systems could "
"then modify their own binaries."
msgstr ""
"Как и любую другую службу, доступную для внешнего мира, "
"<productname>PostgreSQL</productname> рекомендуется запускать под именем "
"отдельного пользователя. Эта учётная запись должна владеть только данными, "
"которыми управляет сервер, и разделять её с другими службами не следует. "
"(Например, не стоит использовать для этого пользователя <literal>nobody</"
"literal>.) Также рекомендуется не устанавливать под именем этого "
"пользователя исполняемые файлы, чтобы их нельзя было подменить в случае "
"компрометации системы."

#: runtime.xml:30(para)
msgid ""
"To add a Unix user account to your system, look for a command "
"<command>useradd</command> or <command>adduser</command>. The user name "
"<systemitem>postgres</systemitem> is often used, and is assumed throughout "
"this book, but you can use another name if you like."
msgstr ""
"Для создания пользователя в Unix-подобной системе следует искать команду "
"<command>useradd</command> или <command>adduser</command>. В качестве имени "
"пользователя часто используется <systemitem>postgres</systemitem>, и именно "
"это имя предполагается в данной документации, но вы можете выбрать и другое, "
"если захотите."

#: runtime.xml:39(title)
msgid "Creating a Database Cluster"
msgstr "Создание кластера баз данных"

#: runtime.xml:41(indexterm)
msgid "<primary>database cluster</primary>"
msgstr "<primary>кластер баз данных</primary>"

#: runtime.xml:45(indexterm)
msgid "<primary>data area</primary> <see>database cluster</see>"
msgstr "<primary>область данных</primary> <see>кластер баз данных</see>"

#: runtime.xml:50(para)
msgid ""
"Before you can do anything, you must initialize a database storage area on "
"disk. We call this a <firstterm>database cluster</firstterm>. (The "
"<acronym>SQL</acronym> standard uses the term catalog cluster.) A database "
"cluster is a collection of databases that is managed by a single instance of "
"a running database server. After initialization, a database cluster will "
"contain a database named <literal>postgres</literal>, which is meant as a "
"default database for use by utilities, users and third party applications. "
"The database server itself does not require the <literal>postgres</literal> "
"database to exist, but many external utility programs assume it exists. "
"Another database created within each cluster during initialization is called "
"<literal>template1</literal>. As the name suggests, this will be used as a "
"template for subsequently created databases; it should not be used for "
"actual work. (See <xref linkend=\"managing-databases\"/> for information "
"about creating new databases within a cluster.)"
msgstr ""
"Прежде чем вы сможете работать с базами данных, вы должны "
"проинициализировать область хранения баз данных на диске. Мы называем это "
"хранилище <firstterm>кластером баз данных</firstterm>. (В <acronym>SQL</"
"acronym> применяется термин &laquo;кластер каталога&raquo;.) Кластер баз "
"данных представляет собой набор баз, управляемых одним экземпляром "
"работающего сервера. После инициализации кластер будет содержать базу данных "
"с именем <literal>postgres</literal>, предназначенную для использования по "
"умолчанию утилитами, пользователями и сторонними приложениями. Сам сервер "
"баз данных не требует наличия базы <literal>postgres</literal>, но многие "
"внешние вспомогательные программы рассчитывают на её существование. При "
"инициализации в каждом кластере создаётся ещё одна база, с именем "
"<literal>template1</literal>. Как можно понять из имени, она применяется "
"впоследствии в качестве шаблона создаваемых баз данных; использовать её в "
"качестве рабочей не следует. (За информацией о создании новых баз данных в "
"кластере обратитесь к <xref remap=\"3\" linkend=\"managing-databases\"/>.)"

#: runtime.xml:77(indexterm)
msgid "<primary>initdb</primary>"
msgstr "<primary>initdb</primary>"

#: runtime.xml:68(para)
msgid ""
"In file system terms, a database cluster is a single directory under which "
"all data will be stored. We call this the <firstterm>data directory</"
"firstterm> or <firstterm>data area</firstterm>. It is completely up to you "
"where you choose to store your data. There is no default, although locations "
"such as <filename>/usr/local/pgsql/data</filename> or <filename>/var/lib/"
"pgsql/data</filename> are popular. To initialize a database cluster, use the "
"command <xref linkend=\"app-initdb\"/>,<placeholder-1/> which is installed "
"with <productname>PostgreSQL</productname>. The desired file system location "
"of your database cluster is indicated by the <option>-D</option> option, for "
"example: <screen>\n"
"<prompt>$</prompt> <userinput>initdb -D /usr/local/pgsql/data</userinput>\n"
"</screen> Note that you must execute this command while logged into the "
"<productname>PostgreSQL</productname> user account, which is described in "
"the previous section."
msgstr ""
"С точки зрения файловой системы, кластер баз данных представляет собой один "
"каталог, в котором будут храниться все данные. Мы называем его "
"<firstterm>каталогом данных</firstterm> или <firstterm>областью данных</"
"firstterm>. Где именно хранить данные, вы абсолютно свободно можете выбирать "
"сами. Какого-либо стандартного пути не существует, но часто данные "
"размещаются в <filename>/usr/local/pgsql/data</filename> или в <filename>/"
"var/lib/pgsql/data</filename>. Для инициализации кластера баз данных "
"применяется команда <xref linkend=\"app-initdb\"/>,<placeholder-1/> которая "
"устанавливается в составе <productname>PostgreSQL</productname>. "
"Расположение кластера базы данных в файловой системе задаётся параметром "
"<option>-D</option>, например: <screen>\n"
"<prompt>$</prompt> <userinput>initdb -D /usr/local/pgsql/data</userinput>\n"
"</screen> Заметьте, что эту команду нужно выполнять от имени учётной записи "
"<productname>PostgreSQL</productname>, о которой говорится в предыдущем "
"разделе."

#: runtime.xml:93(indexterm)
msgid "<primary><envar>PGDATA</envar></primary>"
msgstr "<primary><envar>PGDATA</envar></primary>"

#: runtime.xml:90(para)
msgid ""
"As an alternative to the <option>-D</option> option, you can set the "
"environment variable <envar>PGDATA</envar>. <placeholder-1/>"
msgstr ""
"В качестве альтернативы параметра <option>-D</option> можно установить "
"переменную окружения <envar>PGDATA</envar>. <placeholder-1/>"

#: runtime.xml:100(indexterm) runtime.xml:302(indexterm)
msgid "<primary>pg_ctl</primary>"
msgstr "<primary>pg_ctl</primary>"

#: runtime.xml:97(para)
msgid ""
"Alternatively, you can run <command>initdb</command> via the <xref linkend="
"\"app-pg-ctl\"/> program<placeholder-1/> like so: <screen>\n"
"<prompt>$</prompt> <userinput>pg_ctl -D /usr/local/pgsql/data initdb</"
"userinput>\n"
"</screen> This may be more intuitive if you are using <command>pg_ctl</"
"command> for starting and stopping the server (see <xref linkend=\"server-"
"start\"/>), so that <command>pg_ctl</command> would be the sole command you "
"use for managing the database server instance."
msgstr ""
"Также можно запустить команду <command>initdb</command>, воспользовавшись "
"программой <xref linkend=\"app-pg-ctl\"/> <placeholder-1/>, примерно так: "
"<screen>\n"
"<prompt>$</prompt> <userinput>pg_ctl -D /usr/local/pgsql/data initdb</"
"userinput>\n"
"</screen> Этот вариант может быть удобнее, если вы используете "
"<command>pg_ctl</command> для запуска и остановки сервера (см. <xref remap="
"\"4\" linkend=\"server-start\"/>), так как <command>pg_ctl</command> будет "
"единственной командой, с помощью которой вы будете управлять экземпляром "
"сервера баз данных."

#: runtime.xml:111(para)
msgid ""
"<command>initdb</command> will attempt to create the directory you specify "
"if it does not already exist. Of course, this will fail if <command>initdb</"
"command> does not have permissions to write in the parent directory. It's "
"generally recommendable that the <productname>PostgreSQL</productname> user "
"own not just the data directory but its parent directory as well, so that "
"this should not be a problem. If the desired parent directory doesn't exist "
"either, you will need to create it first, using root privileges if the "
"grandparent directory isn't writable. So the process might look like this: "
"<screen>\n"
"root# <userinput>mkdir /usr/local/pgsql</userinput>\n"
"root# <userinput>chown postgres /usr/local/pgsql</userinput>\n"
"root# <userinput>su postgres</userinput>\n"
"postgres$ <userinput>initdb -D /usr/local/pgsql/data</userinput>\n"
"</screen>"
msgstr ""
"Команда <command>initdb</command> попытается создать указанный вами каталог, "
"если он не существует. Конечно, она не сможет это сделать, если "
"<command>initdb</command> не будет разрешено записывать в родительский "
"каталог. Вообще рекомендуется, чтобы пользователь <productname>PostgreSQL</"
"productname> был владельцем не только каталога данных, но и родительского "
"каталога, так что такой проблемы быть не должно. Если же и нужный "
"родительский каталог не существует, вам нужно будет сначала создать его, "
"используя права root, если вышестоящий каталог защищён от записи. Таким "
"образом, процедура может быть такой: <screen>\n"
"root# <userinput>mkdir /usr/local/pgsql</userinput>\n"
"root# <userinput>chown postgres /usr/local/pgsql</userinput>\n"
"root# <userinput>su postgres</userinput>\n"
"postgres$ <userinput>initdb -D /usr/local/pgsql/data</userinput>\n"
"</screen>"

#: runtime.xml:130(para)
msgid ""
"<command>initdb</command> will refuse to run if the data directory exists "
"and already contains files; this is to prevent accidentally overwriting an "
"existing installation."
msgstr ""
"Команда <command>initdb</command> не будет работать, если указанный каталог "
"данных уже существует и содержит файлы; это мера предохранения от случайной "
"перезаписи существующей инсталляции."

#: runtime.xml:136(para)
msgid ""
"Because the data directory contains all the data stored in the database, it "
"is essential that it be secured from unauthorized access. <command>initdb</"
"command> therefore revokes access permissions from everyone but the "
"<productname>PostgreSQL</productname> user."
msgstr ""
"Так как каталог данных содержит все данные базы, очень важно защитить его от "
"неавторизованного доступа. Для этого <command>initdb</command> лишает прав "
"доступа к нему всех пользователей, кроме пользователя "
"<productname>PostgreSQL</productname>."

#: runtime.xml:151(indexterm)
msgid "<primary>password</primary> <secondary>of the superuser</secondary>"
msgstr "<primary>пароль</primary> <secondary>суперпользователя</secondary>"

#: runtime.xml:144(para)
msgid ""
"However, while the directory contents are secure, the default client "
"authentication setup allows any local user to connect to the database and "
"even become the database superuser. If you do not trust other local users, "
"we recommend you use one of <command>initdb</command>'s <option>-W</option>, "
"<option>--pwprompt</option> or <option>--pwfile</option> options to assign a "
"password to the database superuser.<placeholder-1/> Also, specify <option>-A "
"md5</option> or <option>-A password</option> so that the default "
"<literal>trust</literal> authentication mode is not used; or modify the "
"generated <filename>pg_hba.conf</filename> file after running "
"<command>initdb</command>, but <emphasis>before</emphasis> you start the "
"server for the first time. (Other reasonable approaches include using "
"<literal>peer</literal> authentication or file system permissions to "
"restrict connections. See <xref linkend=\"client-authentication\"/> for more "
"information.)"
msgstr ""
"Однако, даже когда содержимое каталога защищено, если проверка подлинности "
"клиентов настроена по умолчанию, любой локальный пользователь может "
"подключиться к базе данных и даже стать суперпользователем. Если вы не "
"доверяете другим локальным пользователям, мы рекомендуем использовать один "
"из параметров команды <command>initdb</command>: <option>-W</option>, "
"<option>--pwprompt</option> или <option>--pwfile</option> и назначить пароль "
"суперпользователя баз данных. <placeholder-1/> Кроме того, воспользуйтесь "
"параметром <option>-A md5</option> или <option>-A password</option> и "
"отключите разрешённый по умолчанию режим аутентификации <literal>trust</"
"literal>; либо измените сгенерированный файл <filename>pg_hba.conf</"
"filename> после выполнения <command>initdb</command>, но <emphasis>перед</"
"emphasis> тем, как запустить сервер в первый раз. (Возможны и другие "
"разумные подходы — применить режим проверки подлинности <literal>peer</"
"literal> или ограничить подключения на уровне файловой системы. За "
"дополнительными сведениями обратитесь к <xref remap=\"3\" linkend=\"client-"
"authentication\"/>.)"

#: runtime.xml:167(indexterm)
msgid "<primary>locale</primary>"
msgstr "<primary>локаль</primary>"

#: runtime.xml:165(para)
msgid ""
"<command>initdb</command> also initializes the default locale<placeholder-1/"
"> for the database cluster. Normally, it will just take the locale settings "
"in the environment and apply them to the initialized database. It is "
"possible to specify a different locale for the database; more information "
"about that can be found in <xref linkend=\"locale\"/>. The default sort "
"order used within the particular database cluster is set by <command>initdb</"
"command>, and while you can create new databases using different sort order, "
"the order used in the template databases that initdb creates cannot be "
"changed without dropping and recreating them. There is also a performance "
"impact for using locales other than <literal>C</literal> or <literal>POSIX</"
"literal>. Therefore, it is important to make this choice correctly the first "
"time."
msgstr ""
"Команда <command>initdb</command> также устанавливает для кластера баз "
"данных локаль <placeholder-1/> по умолчанию. Обычно она просто берёт "
"параметры локали из текущего окружения и применяет их к инициализируемой "
"базе данных. Однако можно выбрать и другую локаль для базы данных; за "
"дополнительной информацией обратитесь к <xref remap=\"3\" linkend=\"locale\"/"
">. Команда <command>initdb</command> задаёт порядок сортировки по умолчанию "
"для применения в определённом кластере баз данных, и хотя новые базы данных "
"могут создаваться с иным порядком сортировки, порядок в базах-шаблонах, "
"создаваемых initdb, можно изменить, только если удалить и пересоздать их. "
"Также учтите, что при использовании локалей, отличных от <literal>C</"
"literal> и <literal>POSIX</literal>, возможно снижение производительности. "
"Поэтому важно правильно выбрать локаль с самого начала."

#: runtime.xml:181(para)
msgid ""
"<command>initdb</command> also sets the default character set encoding for "
"the database cluster. Normally this should be chosen to match the locale "
"setting. For details see <xref linkend=\"multibyte\"/>."
msgstr ""
"Команда <command>initdb</command> также задаёт кодировку символов по "
"умолчанию для кластера баз данных. Обычно она должна соответствовать "
"кодировке локали. За подробностями обратитесь к <xref remap=\"3\" linkend="
"\"multibyte\"/>."

#: runtime.xml:187(para)
msgid ""
"Non-<literal>C</literal> and non-<literal>POSIX</literal> locales rely on "
"the operating system's collation library for character set ordering. This "
"controls the ordering of keys stored in indexes. For this reason, a cluster "
"cannot switch to an incompatible collation library version, either through "
"snapshot restore, binary streaming replication, a different operating "
"system, or an operating system upgrade."
msgstr ""
"Для локалей, отличных от <literal>C</literal> и <literal>POSIX</literal>, "
"порядок сортировки символов зависит от системной библиотеки локализации, а "
"он, в свою очередь, влияет на порядок ключей в индексах. Поэтому кластер "
"нельзя перевести на несовместимую версию библиотеки ни путём восстановления "
"снимка, ни через двоичную репликацию, ни перейдя на другую операционную "
"систему или обновив её версию."

#: runtime.xml:197(title)
msgid "Use of Secondary File Systems"
msgstr "Использование дополнительных файловых систем"

#: runtime.xml:199(indexterm)
msgid "<primary>file system mount points</primary>"
msgstr "<primary>точки монтирования файловых систем</primary>"

#: runtime.xml:203(para)
msgid ""
"Many installations create their database clusters on file systems (volumes) "
"other than the machine's <quote>root</quote> volume. If you choose to do "
"this, it is not advisable to try to use the secondary volume's topmost "
"directory (mount point) as the data directory. Best practice is to create a "
"directory within the mount-point directory that is owned by the "
"<productname>PostgreSQL</productname> user, and then create the data "
"directory within that. This avoids permissions problems, particularly for "
"operations such as <application>pg_upgrade</application>, and it also "
"ensures clean failures if the secondary volume is taken offline."
msgstr ""
"Во многих инсталляциях кластеры баз данных создаются не в <quote>корневом</"
"quote> томе, а в отдельных файловых системах (томах). Если вы решите сделать "
"так же, то не следует выбирать в качестве каталога данных самый верхний "
"каталог дополнительного тома (точку монтирования). Лучше всего создать "
"внутри каталога точки монтирования каталог, принадлежащий пользователю "
"<productname>PostgreSQL</productname>, а затем создать внутри него каталог "
"данных. Это исключит проблемы с разрешениями, особенно для таких операций, "
"как <application>pg_upgrade</application>, и при этом гарантирует чистое "
"поведение в случае, если дополнительный том окажется отключён."

#: runtime.xml:219(title)
msgid "Use of Network File Systems"
msgstr "Использование сетевых файловых систем"

#: runtime.xml:221(indexterm)
msgid "<primary>Network File Systems</primary>"
msgstr "<primary>Сетевые файловые системы</primary>"

#: runtime.xml:224(indexterm)
msgid ""
"<primary><acronym>NFS</acronym></primary><see>Network File Systems</see>"
msgstr ""
"<primary><acronym>NFS</acronym></primary> <see>Сетевые файловые системы</see>"

#: runtime.xml:225(indexterm)
msgid ""
"<primary>Network Attached Storage (<acronym>NAS</acronym>)</"
"primary><see>Network File Systems</see>"
msgstr ""
"<primary>Сетевые хранилища (<acronym>NAS</acronym>)</primary> <see>Сетевые "
"файловые системы</see>"

#: runtime.xml:227(para)
msgid ""
"Many installations create their database clusters on network file systems. "
"Sometimes this is done via <acronym>NFS</acronym>, or by using a Network "
"Attached Storage (<acronym>NAS</acronym>) device that uses <acronym>NFS</"
"acronym> internally. <productname>PostgreSQL</productname> does nothing "
"special for <acronym>NFS</acronym> file systems, meaning it assumes "
"<acronym>NFS</acronym> behaves exactly like locally-connected drives. If the "
"client or server <acronym>NFS</acronym> implementation does not provide "
"standard file system semantics, this can cause reliability problems (see "
"<ulink url=\"http://www.time-travellers.org/shane/papers/"
"NFS_considered_harmful.html\"/>). Specifically, delayed (asynchronous) "
"writes to the <acronym>NFS</acronym> server can cause data corruption "
"problems. If possible, mount the <acronym>NFS</acronym> file system "
"synchronously (without caching) to avoid this hazard. Also, soft-mounting "
"the <acronym>NFS</acronym> file system is not recommended."
msgstr ""
"Во многих инсталляциях кластеры баз данных создаются в сетевых файловых "
"ресурсах. Иногда это реализуется с применением сетевой файловой системы "
"(<acronym>NFS</acronym>, Network File System) или сетевых хранилищ "
"(<acronym>NAS</acronym>, Network Attached Storage), использующих "
"<acronym>NFS</acronym> внутри. <productname>PostgreSQL</productname> не "
"делает ничего специфического с файловыми системами <acronym>NFS</acronym>, "
"то есть он предполагает, что <acronym>NFS</acronym> работает точно так же, "
"как и локально подключённые диски. Но если реализация клиента или сервера "
"<acronym>NFS</acronym> не обеспечивает стандартное поведение файловой "
"системы, это чревато нестабильной работой (см. <ulink url=\"http://www.time-"
"travellers.org/shane/papers/NFS_considered_harmful.html\"/>). В частности, "
"возможно разрушение данных при отложенной (асинхронной) записи на сервер "
"<acronym>NFS</acronym>. Поэтому, по возможности, во избежание таких проблем "
"монтируйте файловые системы <acronym>NFS</acronym> в синхронном режиме (без "
"кеширования). Кроме того, не рекомендуется применять мягкое монтирование "
"файловой системы <acronym>NFS</acronym>."

#: runtime.xml:245(para)
msgid ""
"Storage Area Networks (<acronym>SAN</acronym>) typically use communication "
"protocols other than <acronym>NFS</acronym>, and may or may not be subject "
"to hazards of this sort. It's advisable to consult the vendor's "
"documentation concerning data consistency guarantees. "
"<productname>PostgreSQL</productname> cannot be more reliable than the file "
"system it's using."
msgstr ""
"В сетях хранения данных (<acronym>SAN</acronym>, Storage Area Networks) "
"обычно используются собственные протоколы, не <acronym>NFS</acronym>, и они "
"могут быть не подвержены (а могут быть и подвержены) этим рискам. По "
"вопросам гарантии согласованности данных обратитесь к документации "
"производителя. <productname>PostgreSQL</productname> не может быть надёжнее "
"файловой системы, которую он использует."

#: runtime.xml:259(title)
msgid "Starting the Database Server"
msgstr "Запуск сервера баз данных"

#: runtime.xml:264(indexterm)
msgid "<primary>postgres</primary>"
msgstr "<primary>postgres</primary>"

#: runtime.xml:261(para)
msgid ""
"Before anyone can access the database, you must start the database server. "
"The database server program is called <command>postgres</command>."
"<placeholder-1/> The <command>postgres</command> program must know where to "
"find the data it is supposed to use. This is done with the <option>-D</"
"option> option. Thus, the simplest way to start the server is: <screen>\n"
"$ <userinput>postgres -D /usr/local/pgsql/data</userinput>\n"
"</screen> which will leave the server running in the foreground. This must "
"be done while logged into the <productname>PostgreSQL</productname> user "
"account. Without <option>-D</option>, the server will try to use the data "
"directory named by the environment variable <envar>PGDATA</envar>. If that "
"variable is not provided either, it will fail."
msgstr ""
"Чтобы кто-либо смог обратиться к базе данных, необходимо сначала запустить "
"сервер баз данных. Программа сервера называется <command>postgres</command>."
"<placeholder-1/> Для работы программа <command>postgres</command> должна "
"знать, где найти данные, которые она будет использовать. Указать это "
"местоположение позволяет параметр <option>-D</option>. Таким образом, проще "
"всего запустить сервер, выполнив команду: <screen>\n"
"$ <userinput>postgres -D /usr/local/pgsql/data</userinput>\n"
"</screen> в результате которой сервер продолжит работу в качестве процесса "
"переднего плана. Запускать эту команду следует под именем учётной записи "
"<productname>PostgreSQL</productname>. Без параметра <option>-D</option> "
"сервер попытается использовать каталог данных, указанный в переменной "
"окружения <envar>PGDATA</envar>. Если и эта переменная не определена, сервер "
"не будет запущен."

#: runtime.xml:279(para)
msgid ""
"Normally it is better to start <command>postgres</command> in the "
"background. For this, use the usual Unix shell syntax: <screen>\n"
"$ <userinput>postgres -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;"
"</userinput>\n"
"</screen> It is important to store the server's <systemitem>stdout</"
"systemitem> and <systemitem>stderr</systemitem> output somewhere, as shown "
"above. It will help for auditing purposes and to diagnose problems. (See "
"<xref linkend=\"logfile-maintenance\"/> for a more thorough discussion of "
"log file handling.)"
msgstr ""
"Однако обычно лучше запускать <command>postgres</command> в фоновом режиме. "
"Для этого можно применить обычный синтаксис, принятый в оболочке Unix: "
"<screen>\n"
"$ <userinput>postgres -D /usr/local/pgsql/data &gt;logfile 2&gt;&amp;1 &amp;"
"</userinput>\n"
"</screen> Важно где-либо сохранять информацию, которую выводит сервер в "
"каналы <systemitem>stdout</systemitem> и <systemitem>stderr</systemitem>, "
"как показано выше. Это полезно и для целей аудита, и для диагностики "
"проблем. (Более глубоко работа с файлами журналов рассматривается в <xref "
"remap=\"6\" linkend=\"logfile-maintenance\"/>.)"

#: runtime.xml:292(para)
msgid ""
"The <command>postgres</command> program also takes a number of other command-"
"line options. For more information, see the <xref linkend=\"app-postgres\"/> "
"reference page and <xref linkend=\"runtime-config\"/> below."
msgstr ""
"Программа <command>postgres</command> также принимает несколько других "
"параметров командной строки. За дополнительными сведениями обратитесь к "
"справочной странице <xref linkend=\"app-postgres\"/> и к следующей <xref "
"remap=\"3\" linkend=\"runtime-config\"/>."

#: runtime.xml:304(programlisting)
#, no-wrap
msgid "pg_ctl start -l logfile"
msgstr "pg_ctl start -l logfile"

#: runtime.xml:299(para)
msgid ""
"This shell syntax can get tedious quickly. Therefore the wrapper program "
"<xref linkend=\"app-pg-ctl\"/><placeholder-1/> is provided to simplify some "
"tasks. For example: <placeholder-2/> will start the server in the background "
"and put the output into the named log file. The <option>-D</option> option "
"has the same meaning here as for <command>postgres</command>. "
"<command>pg_ctl</command> is also capable of stopping the server."
msgstr ""
"Такой вариант запуска довольно быстро может оказаться неудобным. Поэтому для "
"упрощения подобных задач предлагается вспомогательная программа <xref "
"linkend=\"app-pg-ctl\"/><placeholder-1/>. Например: <placeholder-2/> "
"запустит сервер в фоновом режиме и направит выводимые сообщения сервера в "
"указанный файл журнала. Параметр <option>-D</option> для неё имеет то же "
"значение, что и для программы <command>postgres</command>. С помощью "
"<command>pg_ctl</command> также можно остановить сервер."

#: runtime.xml:315(indexterm)
msgid ""
"<primary>booting</primary> <secondary>starting the server during</secondary>"
msgstr ""
"<primary>загрузка системы</primary> <secondary>запуск сервера</secondary>"

#: runtime.xml:313(para)
msgid ""
"Normally, you will want to start the database server when the computer boots."
"<placeholder-1/> Autostart scripts are operating-system-specific. There are "
"a few distributed with <productname>PostgreSQL</productname> in the "
"<filename>contrib/start-scripts</filename> directory. Installing one will "
"require root privileges."
msgstr ""
"Обычно возникает желание, чтобы сервер баз данных сам запускался при "
"загрузке операционной системы.<placeholder-1/> Скрипты автозапуска для "
"разных систем разные, но в составе <productname>PostgreSQL</productname> "
"предлагается несколько типовых скриптов в каталоге <filename>contrib/start-"
"scripts</filename>. Для установки такого скрипта в систему требуются права "
"root."

#: runtime.xml:336(programlisting)
#, no-wrap
msgid "su postgres -c 'pg_ctl start -D /usr/local/pgsql/data -l serverlog'"
msgstr "su postgres -c 'pg_ctl start -D /usr/local/pgsql/data -l serverlog'"

#: runtime.xml:326(para)
msgid ""
"Different systems have different conventions for starting up daemons at boot "
"time. Many systems have a file <filename>/etc/rc.local</filename> or "
"<filename>/etc/rc.d/rc.local</filename>. Others use <filename>init.d</"
"filename> or <filename>rc.d</filename> directories. Whatever you do, the "
"server must be run by the <productname>PostgreSQL</productname> user account "
"<emphasis>and not by root</emphasis> or any other user. Therefore you "
"probably should form your commands using <literal>su postgres -c '...'</"
"literal>. For example: <placeholder-1/>"
msgstr ""
"В различных системах приняты разные соглашения о порядке запуска служб в "
"процессе загрузки. Во многих системах для этого используется файл <filename>/"
"etc/rc.local</filename> или <filename>/etc/rc.d/rc.local</filename>. В "
"других применяются каталоги <filename>init.d</filename> или <filename>rc.d</"
"filename>. Однако при любом варианте запускаться сервер должен от имени "
"пользователя <productname>PostgreSQL</productname>, но <emphasis>не root</"
"emphasis> или какого-либо другого пользователя. Поэтому команду запуска "
"обычно следует записывать в форме <literal>su postgres -c '...'</literal>. "
"Например: <placeholder-1/>"

#: runtime.xml:352(indexterm)
msgid "<primary>FreeBSD</primary><secondary>start script</secondary>"
msgstr "<primary>FreeBSD</primary> <secondary>скрипт запуска</secondary>"

#: runtime.xml:348(para)
msgid ""
"For <productname>FreeBSD</productname>, look at the file <filename>contrib/"
"start-scripts/freebsd</filename> in the <productname>PostgreSQL</"
"productname> source distribution. <placeholder-1/>"
msgstr ""
"Для запуска во <productname>FreeBSD</productname> воспользуйтесь файлом "
"<filename>contrib/start-scripts/freebsd</filename> в дереве исходного кода "
"<productname>PostgreSQL</productname>. <placeholder-1/>"

#: runtime.xml:360(indexterm)
msgid "<primary>OpenBSD</primary><secondary>start script</secondary>"
msgstr "<primary>OpenBSD</primary> <secondary>скрипт запуска</secondary>"

#: runtime.xml:361(programlisting)
#, no-wrap
msgid ""
"if [ -x /usr/local/pgsql/bin/pg_ctl -a -x /usr/local/pgsql/bin/postgres ]; then\n"
"    su -l postgres -c '/usr/local/pgsql/bin/pg_ctl start -s -l /var/postgresql/log -D /usr/local/pgsql/data'\n"
"    echo -n ' postgresql'\n"
"fi"
msgstr ""
"if [ -x /usr/local/pgsql/bin/pg_ctl -a -x /usr/local/pgsql/bin/postgres ]; then\n"
"    su -l postgres -c '/usr/local/pgsql/bin/pg_ctl start -s -l /var/postgresql/log -D /usr/local/pgsql/data'\n"
"    echo -n ' postgresql'\n"
"fi"

#: runtime.xml:357(para)
msgid ""
"On <productname>OpenBSD</productname>, add the following lines to the file "
"<filename>/etc/rc.local</filename>: <placeholder-1/> <placeholder-2/>"
msgstr ""
"В <productname>OpenBSD</productname>, добавьте в файл <filename>/etc/rc."
"local</filename> следующие строки: <placeholder-1/> <placeholder-2/>"

#: runtime.xml:373(indexterm)
msgid "<primary>Linux</primary><secondary>start script</secondary>"
msgstr "<primary>Linux</primary> <secondary>скрипт запуска</secondary>"

#: runtime.xml:374(programlisting)
#, no-wrap
msgid "/usr/local/pgsql/bin/pg_ctl start -l logfile -D /usr/local/pgsql/data"
msgstr "/usr/local/pgsql/bin/pg_ctl start -l logfile -D /usr/local/pgsql/data"

#: runtime.xml:371(para)
msgid ""
"On <productname>Linux</productname> systems either add <placeholder-1/> "
"<placeholder-2/> to <filename>/etc/rc.d/rc.local</filename> or <filename>/"
"etc/rc.local</filename> or look at the file <filename>contrib/start-scripts/"
"linux</filename> in the <productname>PostgreSQL</productname> source "
"distribution."
msgstr ""
"В системах <productname>Linux</productname> вы можете либо добавить "
"<placeholder-1/> <placeholder-2/> в <filename>/etc/rc.d/rc.local</filename> "
"или в <filename>/etc/rc.local</filename>, либо воспользоваться файлом "
"<filename>contrib/start-scripts/linux</filename> в дереве исходного кода "
"<productname>PostgreSQL</productname>."

#: runtime.xml:386(indexterm)
msgid "<primary>systemd</primary>"
msgstr "<primary>systemd</primary>"

#: runtime.xml:387(programlisting)
#, no-wrap
msgid ""
"[Unit]\n"
"Description=PostgreSQL database server\n"
"Documentation=man:postgres(1)\n"
"\n"
"[Service]\n"
"Type=notify\n"
"User=postgres\n"
"ExecStart=/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data\n"
"ExecReload=/bin/kill -HUP $MAINPID\n"
"KillMode=mixed\n"
"KillSignal=SIGINT\n"
"TimeoutSec=0\n"
"\n"
"[Install]\n"
"WantedBy=multi-user.target"
msgstr ""
"[Unit]\n"
"Description=PostgreSQL database server\n"
"Documentation=man:postgres(1)\n"
"\n"
"[Service]\n"
"Type=notify\n"
"User=postgres\n"
"ExecStart=/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data\n"
"ExecReload=/bin/kill -HUP $MAINPID\n"
"KillMode=mixed\n"
"KillSignal=SIGINT\n"
"TimeoutSec=0\n"
"\n"
"[Install]\n"
"WantedBy=multi-user.target"

#: runtime.xml:383(para)
msgid ""
"When using <application>systemd</application>, you can use the following "
"service unit file (e.g., at <filename>/etc/systemd/system/postgresql."
"service</filename>):<placeholder-1/> <placeholder-2/> Using "
"<literal>Type=notify</literal> requires that the server binary was built "
"with <literal>configure --with-systemd</literal>."
msgstr ""
"Используя <application>systemd</application>, вы можете применить следующий "
"файл описания службы (например, <filename>/etc/systemd/system/postgresql."
"service</filename>):<placeholder-1/> <placeholder-2/> Для использования "
"<literal>Type=notify</literal> требуется, чтобы сервер был скомпилирован с "
"указанием <literal>configure --with-systemd</literal>."

#: runtime.xml:408(para)
msgid ""
"Consider carefully the timeout setting. <application>systemd</application> "
"has a default timeout of 90 seconds as of this writing and will kill a "
"process that does not notify readiness within that time. But a "
"<productname>PostgreSQL</productname> server that might have to perform "
"crash recovery at startup could take much longer to become ready. The "
"suggested value of 0 disables the timeout logic."
msgstr ""
"Особого внимания заслуживает значение тайм-аута. На момент написания этой "
"документации по умолчанию в <application>systemd</application> принят тайм-"
"аут 90 секунд, так что процесс, не сообщивший о своей готовности за это "
"время, будет уничтожен. Но серверу <productname>PostgreSQL</productname> при "
"запуске может потребоваться выполнить восстановление после сбоя, так что "
"переход в состояние готовности может занять гораздо больше времени. "
"Предлагаемое значение 0 отключает логику тайм-аута."

#: runtime.xml:425(indexterm)
msgid "<primary>NetBSD</primary><secondary>start script</secondary>"
msgstr "<primary>NetBSD</primary> <secondary>скрипт запуска</secondary>"

#: runtime.xml:420(para)
msgid ""
"On <productname>NetBSD</productname>, use either the <productname>FreeBSD</"
"productname> or <productname>Linux</productname> start scripts, depending on "
"preference. <placeholder-1/>"
msgstr ""
"В <productname>NetBSD</productname> можно использовать скрипт запуска для "
"<productname>FreeBSD</productname> или для <productname>Linux</productname>, "
"в зависимости от предпочтений. <placeholder-1/>"

#: runtime.xml:434(indexterm)
msgid "<primary>Solaris</primary><secondary>start script</secondary>"
msgstr "<primary>Solaris</primary> <secondary>скрипт запуска</secondary>"

#: runtime.xml:435(programlisting)
#, no-wrap
msgid "su - postgres -c \"/usr/local/pgsql/bin/pg_ctl start -l logfile -D /usr/local/pgsql/data\""
msgstr "su - postgres -c \"/usr/local/pgsql/bin/pg_ctl start -l logfile -D /usr/local/pgsql/data\""

#: runtime.xml:430(para)
msgid ""
"On <productname>Solaris</productname>, create a file called <filename>/etc/"
"init.d/postgresql</filename> that contains the following line: "
"<placeholder-1/> <placeholder-2/> Then, create a symbolic link to it in "
"<filename>/etc/rc3.d</filename> as <filename>S99postgresql</filename>."
msgstr ""
"В <productname>Solaris</productname>, создайте файл с именем <filename>/etc/"
"init.d/postgresql</filename>, содержащий следующую стоку: <placeholder-1/> "
"<placeholder-2/> Затем создайте символическую ссылку на него в каталоге "
"<filename>/etc/rc3.d</filename> с именем <filename>S99postgresql</filename>."

#: runtime.xml:341(para)
msgid ""
"Here are a few more operating-system-specific suggestions. (In each case be "
"sure to use the proper installation directory and user name where we show "
"generic values.) <placeholder-1/>"
msgstr ""
"Ниже приведены более конкретные предложения для нескольких основных ОС. "
"(Вместо указанных нами шаблонных значений необходимо подставить правильный "
"путь к каталогу данных и фактическое имя пользователя.) <placeholder-1/>"

#: runtime.xml:446(para)
msgid ""
"While the server is running, its <acronym>PID</acronym> is stored in the "
"file <filename>postmaster.pid</filename> in the data directory. This is used "
"to prevent multiple server instances from running in the same data directory "
"and can also be used for shutting down the server."
msgstr ""
"Когда сервер работает, идентификатор его процесса (<acronym>PID</acronym>) "
"сохраняется в файле <filename>postmaster.pid</filename> в каталоге данных. "
"Это позволяет исключить запуск нескольких экземпляров сервера с одним "
"каталогом данных, а также может быть полезно для выключения сервера."

#: runtime.xml:456(title)
msgid "Server Start-up Failures"
msgstr "Сбои при запуске сервера"

#: runtime.xml:458(para)
msgid ""
"There are several common reasons the server might fail to start. Check the "
"server's log file, or start it by hand (without redirecting standard output "
"or standard error) and see what error messages appear. Below we explain some "
"of the most common error messages in more detail."
msgstr ""
"Есть несколько распространённых причин, по которым сервер может не "
"запуститься. Чтобы понять, чем вызван сбой, просмотрите файл журнала сервера "
"или запустите сервер вручную (не перенаправляя его потоки стандартного "
"вывода и ошибок) и проанализируйте выводимые сообщения. Ниже мы рассмотрим "
"некоторые из наиболее частых сообщений об ошибках более подробно."

#: runtime.xml:466(para)
msgid ""
"<screen>\n"
"LOG:  could not bind IPv4 socket: Address already in use\n"
"HINT:  Is another postmaster already running on port 5432? If not, wait a "
"few seconds and retry.\n"
"FATAL:  could not create TCP/IP listen socket\n"
"</screen> This usually means just what it suggests: you tried to start "
"another server on the same port where one is already running. However, if "
"the kernel error message is not <computeroutput>Address\n"
"     already in use</computeroutput> or some variant of that, there might be "
"a different problem. For example, trying to start a server on a reserved "
"port number might draw something like: <screen>\n"
"$ <userinput>postgres -p 666</userinput>\n"
"LOG:  could not bind IPv4 socket: Permission denied\n"
"HINT:  Is another postmaster already running on port 666? If not, wait a few "
"seconds and retry.\n"
"FATAL:  could not create TCP/IP listen socket\n"
"</screen>"
msgstr ""
"<screen>\n"
"LOG:  could not bind IPv4 socket: Address already in use\n"
"HINT:  Is another postmaster already running on port 5432? If not, wait a "
"few seconds and retry.\n"
"FATAL:  could not create TCP/IP listen socket\n"
"</screen> Это обычно означает именно то, что написано: вы пытаетесь "
"запустить сервер на том же порту, на котором уже работает другой. Однако, "
"если сообщение ядра не <computeroutput>Адрес\n"
"     уже используется</computeroutput> или подобное, возможна и другая "
"проблема. Например, при попытке запустить сервер с номером "
"зарезервированного порта будут выданы такие сообщения: <screen>\n"
"$ <userinput>postgres -p 666</userinput>\n"
"LOG:  could not bind IPv4 socket: Permission denied\n"
"HINT:  Is another postmaster already running on port 666? If not, wait a few "
"seconds and retry.\n"
"FATAL:  could not create TCP/IP listen socket\n"
"</screen>"

#: runtime.xml:486(para)
msgid ""
"A message like: <screen>\n"
"FATAL:  could not create shared memory segment: Invalid argument\n"
"DETAIL:  Failed system call was shmget(key=5440001, size=4011376640, "
"03600).\n"
"</screen> probably means your kernel's limit on the size of shared memory is "
"smaller than the work area <productname>PostgreSQL</productname> is trying "
"to create (4011376640 bytes in this example). Or it could mean that you do "
"not have System-V-style shared memory support configured into your kernel at "
"all. As a temporary workaround, you can try starting the server with a "
"smaller-than-normal number of buffers (<xref linkend=\"guc-shared-buffers\"/"
">). You will eventually want to reconfigure your kernel to increase the "
"allowed shared memory size. You might also see this message when trying to "
"start multiple servers on the same machine, if their total space requested "
"exceeds the kernel limit."
msgstr ""
"Следующее сообщение: <screen>\n"
"FATAL:  could not create shared memory segment: Invalid argument\n"
"DETAIL:  Failed system call was shmget(key=5440001, size=4011376640, "
"03600).\n"
"</screen> может означать, что установленный для вашего ядра предельный "
"размер разделяемой памяти слишком мал для рабочей области, которую пытается "
"создать <productname>PostgreSQL</productname> (в данном примере 4011376640 "
"байт). Возможно также, что в вашем ядре вообще отсутствует поддержка "
"разделяемой памяти в стиле System-V. В качестве временного решения можно "
"попытаться запустить сервер с меньшим числом буферов (<xref linkend=\"guc-"
"shared-buffers\"/>), но в итоге вам, скорее всего, придётся "
"переконфигурировать ядро и увеличить допустимый размер разделяемой памяти. "
"Вы также можете увидеть это сообщение при попытке запустить несколько "
"серверов на одном компьютере, если запрошенный ими объём разделяемой памяти "
"в сумме превышает этот предел."

#: runtime.xml:505(para)
msgid ""
"An error like: <screen>\n"
"FATAL:  could not create semaphores: No space left on device\n"
"DETAIL:  Failed system call was semget(5440126, 17, 03600).\n"
"</screen> does <emphasis>not</emphasis> mean you've run out of disk space. "
"It means your kernel's limit on the number of <systemitem class=\"osname"
"\">System V</systemitem> semaphores is smaller than the number "
"<productname>PostgreSQL</productname> wants to create. As above, you might "
"be able to work around the problem by starting the server with a reduced "
"number of allowed connections (<xref linkend=\"guc-max-connections\"/>), but "
"you'll eventually want to increase the kernel limit."
msgstr ""
"Сообщение: <screen>\n"
"FATAL:  could not create semaphores: No space left on device\n"
"DETAIL:  Failed system call was semget(5440126, 17, 03600).\n"
"</screen> <emphasis>не</emphasis> означает, что у вас закончилось место на "
"диске. Это значит, что установленное в вашем ядре предельное число семафоров "
"<systemitem class=\"osname\">System V</systemitem> меньше, чем количество "
"семафоров, которое пытается создать <productname>PostgreSQL</productname>. "
"Как и в предыдущем случае, можно попытаться обойти эту проблему, запустив "
"сервер с меньшим числом допустимых подключений (<xref linkend=\"guc-max-"
"connections\"/>), но в конце концов вам придётся увеличить этот предел в "
"ядре."

#: runtime.xml:521(para)
msgid ""
"If you get an <quote>illegal system call</quote> error, it is likely that "
"shared memory or semaphores are not supported in your kernel at all. In that "
"case your only option is to reconfigure the kernel to enable these features."
msgstr ""
"Если вы получаете ошибку <quote>illegal system call</quote> (неверный "
"системный вызов), то, вероятнее всего, ваше ядро вовсе не поддерживает "
"разделяемую память или семафоры. В этом случае, вам остаётся только "
"переконфигурировать ядро и включить их поддержку."

#: runtime.xml:528(para)
msgid ""
"Details about configuring <systemitem class=\"osname\">System V</systemitem> "
"<acronym>IPC</acronym> facilities are given in <xref linkend=\"sysvipc\"/>."
msgstr ""
"Настройка средств <acronym>IPC</acronym> в стиле <systemitem class=\"osname"
"\">System V</systemitem> описывается в <xref remap=\"6\" linkend=\"sysvipc\"/"
">."

#: runtime.xml:535(title)
msgid "Client Connection Problems"
msgstr "Проблемы с подключениями клиентов"

#: runtime.xml:537(para)
msgid ""
"Although the error conditions possible on the client side are quite varied "
"and application-dependent, a few of them might be directly related to how "
"the server was started. Conditions other than those shown below should be "
"documented with the respective client application."
msgstr ""
"Хотя ошибки подключений, возможные на стороне клиента, довольно разнообразны "
"и зависят от приложений, всё же несколько проблем могут быть связаны "
"непосредственно с тем, как был запущен сервер. Описание ошибок, отличных от "
"описанных ниже, следует искать в документации соответствующего клиентского "
"приложения."

#: runtime.xml:545(para)
msgid ""
"<screen>\n"
"psql: could not connect to server: Connection refused\n"
"        Is the server running on host \"server.joe.com\" and accepting\n"
"        TCP/IP connections on port 5432?\n"
"</screen> This is the generic <quote>I couldn't find a server to talk to</"
"quote> failure. It looks like the above when TCP/IP communication is "
"attempted. A common mistake is to forget to configure the server to allow "
"TCP/IP connections."
msgstr ""
"<screen>\n"
"psql: could not connect to server: Connection refused\n"
"        Is the server running on host \"server.joe.com\" and accepting\n"
"        TCP/IP connections on port 5432?\n"
"</screen> Это общая проблема <quote>я не могу найти сервер и начать "
"взаимодействие с ним</quote>. Показанное выше сообщение говорит о попытке "
"установить подключение по TCP/IP. Очень часто объясняется это тем, что "
"сервер просто забыли настроить для работы по протоколу TCP/IP."

#: runtime.xml:557(para)
msgid ""
"Alternatively, you'll get this when attempting Unix-domain socket "
"communication to a local server: <screen>\n"
"psql: could not connect to server: No such file or directory\n"
"        Is the server running locally and accepting\n"
"        connections on Unix domain socket \"/tmp/.s.PGSQL.5432\"?\n"
"</screen>"
msgstr ""
"Кроме того, при попытке установить подключение к локальному серверу через "
"доменный сокет Unix можно получить такое сообщение: <screen>\n"
"psql: could not connect to server: No such file or directory\n"
"        Is the server running locally and accepting\n"
"        connections on Unix domain socket \"/tmp/.s.PGSQL.5432\"?\n"
"</screen>"

#: runtime.xml:567(para)
msgid ""
"The last line is useful in verifying that the client is trying to connect to "
"the right place. If there is in fact no server running there, the kernel "
"error message will typically be either <computeroutput>Connection refused</"
"computeroutput> or <computeroutput>No such file or directory</"
"computeroutput>, as illustrated. (It is important to realize that "
"<computeroutput>Connection refused</computeroutput> in this context does "
"<emphasis>not</emphasis> mean that the server got your connection request "
"and rejected it. That case will produce a different message, as shown in "
"<xref linkend=\"client-authentication-problems\"/>.) Other error messages "
"such as <computeroutput>Connection timed out</computeroutput> might indicate "
"more fundamental problems, like lack of network connectivity."
msgstr ""
"Путь в последней строке помогает понять, к правильному ли адресу пытается "
"подключиться клиент. Если сервер на самом деле не принимает подключения по "
"этому адресу, обычно выдаётся сообщение ядра <computeroutput>Connection "
"refused</computeroutput> (В соединении отказано) или <computeroutput>No such "
"file or directory</computeroutput> (Нет такого файла или каталога), "
"приведённое выше. (Важно понимать, что <computeroutput>Connection refused</"
"computeroutput> в данном контексте <emphasis>не</emphasis> означает, что "
"сервер получил запрос на подключение и отверг его. В этом случае были бы "
"выданы другие сообщения, например, показанные в <xref remap=\"6\" linkend="
"\"client-authentication-problems\"/>.) Другие сообщения об ошибках, например "
"<computeroutput>Connection timed out</computeroutput> (Тайм-аут соединения) "
"могут сигнализировать о более фундаментальных проблемах, например, о "
"нарушениях сетевых соединений."

#: runtime.xml:587(title)
msgid "Managing Kernel Resources"
msgstr "Управление ресурсами ядра"

#: runtime.xml:589(para)
msgid ""
"<productname>PostgreSQL</productname> can sometimes exhaust various "
"operating system resource limits, especially when multiple copies of the "
"server are running on the same system, or in very large installations. This "
"section explains the kernel resources used by <productname>PostgreSQL</"
"productname> and the steps you can take to resolve problems related to "
"kernel resource consumption."
msgstr ""
"<productname>PostgreSQL</productname> иногда может исчерпывать некоторые "
"ресурсы операционной системы до предела, особенно при запуске нескольких "
"копий сервера в одной системе или при работе с очень большими базами. В этом "
"разделе описываются ресурсы ядра, которые использует "
"<productname>PostgreSQL</productname>, и подходы к решению проблем, "
"связанных с ограниченностью этих ресурсов."

#: runtime.xml:598(title)
msgid "Shared Memory and Semaphores"
msgstr "Разделяемая память и семафоры"

#: runtime.xml:600(indexterm)
msgid "<primary>shared memory</primary>"
msgstr "<primary>разделяемая память</primary>"

#: runtime.xml:604(indexterm)
msgid "<primary>semaphores</primary>"
msgstr "<primary>семафоры</primary>"

#: runtime.xml:608(para)
msgid ""
"Shared memory and semaphores are collectively referred to as "
"<quote><systemitem class=\"osname\">System V</systemitem> <acronym>IPC</"
"acronym></quote> (together with message queues, which are not relevant for "
"<productname>PostgreSQL</productname>). Except on <systemitem class=\"osname"
"\">Windows</systemitem>, where <productname>PostgreSQL</productname> "
"provides its own replacement implementation of these facilities, these "
"facilities are required in order to run <productname>PostgreSQL</"
"productname>."
msgstr ""
"Разделяемая память и семафоры в совокупности называются средствами "
"межпроцессного взаимодействия (<acronym>IPC</acronym>) в стиле <systemitem "
"class=\"osname\">System V</systemitem> (к этим средствам также относятся "
"очереди сообщений, но они не имеют отношения к <productname>PostgreSQL</"
"productname>). За исключением <systemitem class=\"osname\">Windows</"
"systemitem>, где <productname>PostgreSQL</productname> использует "
"собственную замену этих средств, эти средства необходимы для работы "
"<productname>PostgreSQL</productname>."

#: runtime.xml:619(para)
msgid ""
"The complete lack of these facilities is usually manifested by an "
"<errorname>Illegal system call</errorname> error upon server start. In that "
"case there is no alternative but to reconfigure your kernel. "
"<productname>PostgreSQL</productname> won't work without them. This "
"situation is rare, however, among modern operating systems."
msgstr ""
"Если эти механизмы полностью отсутствуют в системе, при запуске сервера "
"обычно выдаётся ошибка <errorname>Illegal system call</errorname> (Неверный "
"системный вызов). В этом случае единственный способ решить проблему — "
"переконфигурировать ядро системы. Без них <productname>PostgreSQL</"
"productname> просто не будет работать. Это довольно редкая ситуация, "
"особенно с современными операционными системами."

#: runtime.xml:627(para)
msgid ""
"When <productname>PostgreSQL</productname> exceeds one of the various hard "
"<acronym>IPC</acronym> limits, the server will refuse to start and should "
"leave an instructive error message describing the problem and what to do "
"about it. (See also <xref linkend=\"server-start-failures\"/>.) The relevant "
"kernel parameters are named consistently across different systems; <xref "
"linkend=\"sysvipc-parameters\"/> gives an overview. The methods to set them, "
"however, vary. Suggestions for some platforms are given below."
msgstr ""
"Когда <productname>PostgreSQL</productname> превышает один из различных "
"жёстких пределов <acronym>IPC</acronym>, сервер отказывается запускаться, но "
"выдаёт полезное сообщение, говорящее об ошибке и о том, что с ней делать. "
"(См. также <xref remap=\"4\" linkend=\"server-start-failures\"/>.) "
"Соответствующие параметры ядра в разных системах называются аналогично (они "
"перечислены в <xref remap=\"6\" linkend=\"sysvipc-parameters\"/>), но "
"устанавливаются они по-разному. Ниже предлагаются способы их изменения для "
"некоторых систем."

#: runtime.xml:639(para)
msgid ""
"Prior to <productname>PostgreSQL</productname> 9.3, the amount of System V "
"shared memory required to start the server was much larger. If you are "
"running an older version of the server, please consult the documentation for "
"your server version."
msgstr ""
"<productname>PostgreSQL</productname> до версии 9.3 требовал для запуска "
"сервера гораздо больший объём разделяемой памяти System V. Если вы "
"используете более раннюю версию сервера, обратитесь к документации по вашей "
"версии."

#: runtime.xml:648(title)
msgid ""
"<systemitem class=\"osname\">System V</systemitem> <acronym>IPC</acronym> "
"Parameters"
msgstr ""
"Параметры <acronym>IPC</acronym> в стиле <systemitem class=\"osname\">System "
"V</systemitem>"

#: runtime.xml:653(entry)
msgid "Name"
msgstr "Имя"

#: runtime.xml:654(entry)
msgid "Description"
msgstr "Описание"

#: runtime.xml:655(entry)
msgid "Reasonable values"
msgstr "Разумные значения"

#: runtime.xml:661(varname)
msgid "SHMMAX"
msgstr "SHMMAX"

#: runtime.xml:662(entry)
msgid "Maximum size of shared memory segment (bytes)"
msgstr "Максимальный размер сегмента разделяемой памяти (в байтах)"

#: runtime.xml:663(entry)
msgid "at least 1kB (more if running many copies of the server)"
msgstr "не меньше 1 КБ (больше, если запускается много копий сервера)"

#: runtime.xml:667(varname)
msgid "SHMMIN"
msgstr "SHMMIN"

#: runtime.xml:668(entry)
msgid "Minimum size of shared memory segment (bytes)"
msgstr "Минимальный размер сегмента разделяемой памяти (в байтах)"

#: runtime.xml:669(entry)
msgid "1"
msgstr "1"

#: runtime.xml:673(varname)
msgid "SHMALL"
msgstr "SHMALL"

#: runtime.xml:674(entry)
msgid "Total amount of shared memory available (bytes or pages)"
msgstr "Общий объём доступной разделяемой памяти (в байтах или страницах)"

#: runtime.xml:675(entry)
msgid ""
"if bytes, same as <varname>SHMMAX</varname>; if pages, <literal>ceil(SHMMAX/"
"PAGE_SIZE)</literal>"
msgstr ""
"если в байтах, то же, что и <varname>SHMMAX</varname>; если в страницах, то "
"<literal>ceil(SHMMAX/PAGE_SIZE)</literal>"

#: runtime.xml:679(varname)
msgid "SHMSEG"
msgstr "SHMSEG"

#: runtime.xml:680(entry)
msgid "Maximum number of shared memory segments per process"
msgstr "Максимальное число сегментов разделяемой памяти для процесса"

#: runtime.xml:681(entry)
msgid "only 1 segment is needed, but the default is much higher"
msgstr "требуется только 1 сегмент, но значение по умолчанию гораздо больше"

#: runtime.xml:685(varname)
msgid "SHMMNI"
msgstr "SHMMNI"

#: runtime.xml:686(entry)
msgid "Maximum number of shared memory segments system-wide"
msgstr "Максимальное число сегментов разделяемой памяти для всей системы"

#: runtime.xml:687(entry)
msgid "like <varname>SHMSEG</varname> plus room for other applications"
msgstr "как <varname>SHMSEG</varname> плюс потребность других приложений"

#: runtime.xml:691(varname)
msgid "SEMMNI"
msgstr "SEMMNI"

#: runtime.xml:692(entry)
msgid "Maximum number of semaphore identifiers (i.e., sets)"
msgstr "Максимальное число идентификаторов семафоров (т. е., их наборов)"

#: runtime.xml:693(entry)
msgid ""
"at least <literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16)</literal>"
msgstr ""
"как минимум <literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16)</literal>"

#: runtime.xml:697(varname)
msgid "SEMMNS"
msgstr "SEMMNS"

#: runtime.xml:698(entry)
msgid "Maximum number of semaphores system-wide"
msgstr "Максимальное число семафоров для всей системы"

#: runtime.xml:699(entry)
msgid ""
"<literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16) * 17</literal> plus room for other "
"applications"
msgstr ""
"<literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16) * 17</literal> плюс потребность других "
"приложений"

#: runtime.xml:703(varname)
msgid "SEMMSL"
msgstr "SEMMSL"

#: runtime.xml:704(entry)
msgid "Maximum number of semaphores per set"
msgstr "Максимальное число семафоров в наборе"

#: runtime.xml:705(entry)
msgid "at least 17"
msgstr "не меньше 17"

#: runtime.xml:709(varname)
msgid "SEMMAP"
msgstr "SEMMAP"

#: runtime.xml:710(entry)
msgid "Number of entries in semaphore map"
msgstr "Число записей в карте семафоров"

#: runtime.xml:711(entry)
msgid "see text"
msgstr "см. текст"

#: runtime.xml:715(varname)
msgid "SEMVMX"
msgstr "SEMVMX"

#: runtime.xml:716(entry)
msgid "Maximum value of semaphore"
msgstr "Максимальное значение семафора"

#: runtime.xml:717(entry)
msgid ""
"at least 1000 (The default is often 32767; do not change unless necessary)"
msgstr ""
"не меньше 1000 (по умолчанию оно обычно равно 32767; без необходимости "
"менять его не следует)"

#: runtime.xml:724(para)
msgid ""
"<productname>PostgreSQL</productname> requires a few bytes of System V "
"shared memory (typically 48 bytes, on 64-bit platforms) for each copy of the "
"server. On most modern operating systems, this amount can easily be "
"allocated. However, if you are running many copies of the server, or if "
"other applications are also using System V shared memory, it may be "
"necessary to increase <varname>SHMMAX</varname>, the maximum size in bytes "
"of a shared memory segment, or <varname>SHMALL</varname>, the total amount "
"of System V shared memory system-wide. Note that <varname>SHMALL</varname> "
"is measured in pages rather than bytes on many systems."
msgstr ""
"<productname>PostgreSQL</productname> запрашивает небольшой блок разделяемой "
"памяти System V (обычно 48 байт на 64-битной платформе) для каждой копии "
"сервера. В большинстве современных операционных систем такой объём "
"выделяется без проблем. Однако, если запускать много копий сервера, или "
"разделяемую память System V занимают и другие приложения, может понадобиться "
"увеличить значение <varname>SHMMAX</varname>, максимальный размер сегмента "
"разделяемой памяти (в байтах), либо <varname>SHMALL</varname>, общий объём "
"разделяемой памяти System V, доступный для всей системы. Заметьте, что "
"<varname>SHMALL</varname> во многих системах задаётся в страницах, а не в "
"байтах."

#: runtime.xml:736(para)
msgid ""
"Less likely to cause problems is the minimum size for shared memory segments "
"(<varname>SHMMIN</varname>), which should be at most approximately 32 bytes "
"for <productname>PostgreSQL</productname> (it is usually just 1). The "
"maximum number of segments system-wide (<varname>SHMMNI</varname>) or per-"
"process (<varname>SHMSEG</varname>) are unlikely to cause a problem unless "
"your system has them set to zero."
msgstr ""
"Менее вероятны проблемы с минимальным размером сегментов разделяемой памяти "
"(<varname>SHMMIN</varname>), который для <productname>PostgreSQL</"
"productname> не должен превышать примерно 32 байт (обычно это всего 1 байт). "
"Максимальное число сегментов для всей системы (<varname>SHMMNI</varname>) "
"или для одного процесса (<varname>SHMSEG</varname>) тоже обычно не влияет на "
"работоспособность сервера, если только это число не равно нулю."

#: runtime.xml:745(para)
msgid ""
"<productname>PostgreSQL</productname> uses one semaphore per allowed "
"connection (<xref linkend=\"guc-max-connections\"/>), allowed autovacuum "
"worker process (<xref linkend=\"guc-autovacuum-max-workers\"/>) and allowed "
"background process (<xref linkend=\"guc-max-worker-processes\"/>), in sets "
"of 16. Each such set will also contain a 17th semaphore which contains a "
"<quote>magic number</quote>, to detect collision with semaphore sets used by "
"other applications. The maximum number of semaphores in the system is set by "
"<varname>SEMMNS</varname>, which consequently must be at least as high as "
"<varname>max_connections</varname> plus <varname>autovacuum_max_workers</"
"varname> plus <varname>max_worker_processes</varname>, plus one extra for "
"each 16 allowed connections plus workers (see the formula in <xref linkend="
"\"sysvipc-parameters\"/>). The parameter <varname>SEMMNI</varname> "
"determines the limit on the number of semaphore sets that can exist on the "
"system at one time. Hence this parameter must be at least "
"<literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16)</literal>. Lowering the number of allowed "
"connections is a temporary workaround for failures, which are usually "
"confusingly worded <quote>No space left on device</quote>, from the function "
"<function>semget</function>."
msgstr ""
"<productname>PostgreSQL</productname> использует по одному семафору на одно "
"разрешённое подключение (<xref linkend=\"guc-max-connections\"/>), на "
"разрешённый рабочий процесс автоочистки (<xref linkend=\"guc-autovacuum-max-"
"workers\"/>) и фоновый процесс (<xref linkend=\"guc-max-worker-processes\"/"
">), в наборах по 16. В каждом таком наборе есть также 17-ый семафор, "
"содержащий <quote>магическое число</quote>, позволяющий обнаруживать "
"коллизии с наборами семафоров других приложений. Максимальное число "
"семафоров в системе задаётся параметром <varname>SEMMNS</varname>, который, "
"следовательно, должен быть равен как минимум сумме <varname>max_connections</"
"varname>, <varname>autovacuum_max_workers</varname> и "
"<varname>max_worker_processes</varname>, плюс один дополнительный на каждые "
"16 семафоров подключений и рабочих процессов (см. формулу в <xref remap="
"\"6\" linkend=\"sysvipc-parameters\"/>). Параметр <varname>SEMMNI</varname> "
"определяет максимальное число наборов семафоров, которые могут существовать "
"в системе в один момент времени. Таким образом, этот параметр должен быть не "
"меньше <literal>ceil((max_connections + autovacuum_max_workers + "
"max_worker_processes + 5) / 16)</literal>. В качестве временного решения "
"проблем, которые вызваны этими ограничениями, но обычно сопровождаются "
"некорректными сообщениями, например, <quote>No space left on device</quote> "
"(На устройстве не осталось места) от функции <function>semget</function>, "
"можно уменьшить число разрешённых соединений."

#: runtime.xml:769(para)
msgid ""
"In some cases it might also be necessary to increase <varname>SEMMAP</"
"varname> to be at least on the order of <varname>SEMMNS</varname>. This "
"parameter defines the size of the semaphore resource map, in which each "
"contiguous block of available semaphores needs an entry. When a semaphore "
"set is freed it is either added to an existing entry that is adjacent to the "
"freed block or it is registered under a new map entry. If the map is full, "
"the freed semaphores get lost (until reboot). Fragmentation of the semaphore "
"space could over time lead to fewer available semaphores than there should "
"be."
msgstr ""
"В некоторых случаях может потребоваться увеличить <varname>SEMMAP</varname> "
"как минимум до уровня <varname>SEMMNS</varname>. Этот параметр определяет "
"размер карты ресурсов семафоров, в которой выделяется запись для каждого "
"непрерывного блока семафоров. Когда набор семафоров освобождается, эта "
"запись либо добавляется к существующей соседней записи, либо регистрируется "
"как новая запись в карте. Если карта переполняется, освобождаемые семафоры "
"теряются (до перезагрузки). Таким образом, фрагментация пространства "
"семафоров может со времени привести к уменьшению числа доступных семафоров."

#: runtime.xml:782(para)
msgid ""
"The <varname>SEMMSL</varname> parameter, which determines how many "
"semaphores can be in a set, must be at least 17 for <productname>PostgreSQL</"
"productname>."
msgstr ""
"Параметр <varname>SEMMSL</varname>, определяющий, сколько семафоров может "
"быть в одном наборе, для <productname>PostgreSQL</productname> должен "
"равняться как минимум 17."

#: runtime.xml:788(para)
msgid ""
"Various other settings related to <quote>semaphore undo</quote>, such as "
"<varname>SEMMNU</varname> and <varname>SEMUME</varname>, do not affect "
"<productname>PostgreSQL</productname>."
msgstr ""
"Другие параметры, связанные с <quote>аннулированием операций</quote> с "
"семафорами, например, <varname>SEMMNU</varname> и <varname>SEMUME</varname>, "
"на работу <productname>PostgreSQL</productname> не влияют."

#: runtime.xml:797(systemitem)
msgid "AIX"
msgstr "AIX"

#: runtime.xml:798(indexterm)
msgid "<primary>AIX</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>AIX</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:801(para)
msgid ""
"At least as of version 5.1, it should not be necessary to do any special "
"configuration for such parameters as <varname>SHMMAX</varname>, as it "
"appears this is configured to allow all memory to be used as shared memory. "
"That is the sort of configuration commonly used for other databases such as "
"<application>DB/2</application>."
msgstr ""
"Как минимум с версии 5.1, для таких параметров, как <varname>SHMMAX</"
"varname>, никакая дополнительная настройка не должна требоваться, так как "
"система, похоже, позволяет использовать всю память в качестве разделяемой. "
"Подобная конфигурация требуется обычно и для других баз данных, например, "
"для <application>DB/2</application>."

#: runtime.xml:809(para)
msgid ""
"It might, however, be necessary to modify the global <command>ulimit</"
"command> information in <filename>/etc/security/limits</filename>, as the "
"default hard limits for file sizes (<varname>fsize</varname>) and numbers of "
"files (<varname>nofiles</varname>) might be too low."
msgstr ""
"Однако может понадобиться изменить глобальные параметры <command>ulimit</"
"command> в <filename>/etc/security/limits</filename>, так как стандартные "
"жёсткие ограничения на размер (<varname>fsize</varname>) и количество файлов "
"(<varname>nofiles</varname>) могут быть недостаточно большими."

#: runtime.xml:820(systemitem)
msgid "FreeBSD"
msgstr "FreeBSD"

#: runtime.xml:821(indexterm)
msgid "<primary>FreeBSD</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>FreeBSD</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:824(para)
msgid ""
"The default settings can be changed using the <command>sysctl</command> or "
"<command>loader</command> interfaces. The following parameters can be set "
"using <command>sysctl</command>: <screen>\n"
"<prompt>#</prompt> <userinput>sysctl kern.ipc.shmall=32768</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl kern.ipc.shmmax=134217728</userinput>\n"
"</screen> To make these settings persist over reboots, modify <filename>/etc/"
"sysctl.conf</filename>."
msgstr ""
"Значения по умолчанию можно изменить, используя возможности <command>sysctl</"
"command> или <command>loader</command>. С помощью <command>sysctl</command> "
"можно задать следующие параметры: <screen>\n"
"<prompt>#</prompt> <userinput>sysctl kern.ipc.shmall=32768</userinput>\n"
"<prompt>#</prompt> <userinput>sysctl kern.ipc.shmmax=134217728</userinput>\n"
"</screen> Чтобы эти изменения сохранялись после перезагрузки, измените "
"<filename>/etc/sysctl.conf</filename>."

#: runtime.xml:841(programlisting)
#, no-wrap
msgid ""
"kern.ipc.semmni=256\n"
"kern.ipc.semmns=512\n"
"kern.ipc.semmnu=256"
msgstr ""
"kern.ipc.semmni=256\n"
"kern.ipc.semmns=512\n"
"kern.ipc.semmnu=256"

#: runtime.xml:837(para)
msgid ""
"These semaphore-related settings are read-only as far as <command>sysctl</"
"command> is concerned, but can be set in <filename>/boot/loader.conf</"
"filename>: <placeholder-1/> After modifying these values a reboot is "
"required for the new settings to take effect. (Note: FreeBSD does not use "
"<varname>SEMMAP</varname>. Older versions would accept but ignore a setting "
"for <literal>kern.ipc.semmap</literal>; newer versions reject it altogether.)"
msgstr ""
"Эти параметры, связанные с семафорами, <command>sysctl</command> менять не "
"позволяет, но их можно задать в <filename>/boot/loader.conf</filename>: "
"<placeholder-1/> Чтобы изменённые таким образом параметры вступили в силу, "
"требуется перезагрузить систему. (Заметьте, что во FreeBSD нет параметра "
"<varname>SEMMAP</varname>. В старых версиях значение для <literal>kern.ipc."
"semmap</literal> принималось, но игнорировалось; новые версии его не "
"принимают.)"

#: runtime.xml:853(para) runtime.xml:895(para) runtime.xml:935(para)
msgid ""
"You might also want to configure your kernel to lock shared memory into RAM "
"and prevent it from being paged out to swap. This can be accomplished using "
"the <command>sysctl</command> setting <literal>kern.ipc.shm_use_phys</"
"literal>."
msgstr ""
"Возможно, вы захотите настроить ядро так, чтобы разделяемая память всегда "
"находилась в ОЗУ и никогда не выгружалась в пространство подкачки. Это можно "
"сделать, установив с помощью <command>sysctl</command> параметр "
"<literal>kern.ipc.shm_use_phys</literal>."

#: runtime.xml:860(para)
msgid ""
"If running in FreeBSD jails by enabling <application>sysctl</application>'s "
"<literal>security.jail.sysvipc_allowed</literal>, <application>postmaster</"
"application>s running in different jails should be run by different "
"operating system users. This improves security because it prevents non-root "
"users from interfering with shared memory or semaphores in different jails, "
"and it allows the PostgreSQL IPC cleanup code to function properly. (In "
"FreeBSD 6.0 and later the IPC cleanup code does not properly detect "
"processes in other jails, preventing the running of postmasters on the same "
"port in different jails.)"
msgstr ""
"Если вы используете &laquo;камеры&raquo; FreeBSD, включив в "
"<application>sysctl</application> параметр <literal>security.jail."
"sysvipc_allowed</literal>, главные процессы <application>postmaster</"
"application>, работающие в разных камерах, должны запускаться разными "
"пользователями операционной системы. Это усиливает защиту, так как не "
"позволяет обычным пользователям обращаться к разделяемой памяти или "
"семафорам в разных камерах, и при этом способствует корректной работе кода "
"очистки IPC в PostgreSQL. (Во FreeBSD 6.0 и более поздних версиях код "
"очистки IPC не может корректно выявить процессы в других камерах, что не "
"позволяет запускать процессы postmaster на одном порту в разных камерах.)"

#: runtime.xml:872(para)
msgid ""
"<systemitem class=\"osname\">FreeBSD</systemitem> versions before 4.0 work "
"like <systemitem class=\"osname\">OpenBSD</systemitem> (see below)."
msgstr ""
"До версии 4.0 система <systemitem class=\"osname\">FreeBSD</systemitem> "
"работала так же, как сейчас <systemitem class=\"osname\">OpenBSD</"
"systemitem> (см. ниже)."

#: runtime.xml:880(systemitem)
msgid "NetBSD"
msgstr "NetBSD"

#: runtime.xml:881(indexterm)
msgid "<primary>NetBSD</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>NetBSD</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:884(para)
msgid ""
"In <systemitem class=\"osname\">NetBSD</systemitem> 5.0 and later, IPC "
"parameters can be adjusted using <command>sysctl</command>, for example: "
"<screen>\n"
"<prompt>$</prompt> <userinput>sysctl -w kern.ipc.shmmax=16777216</"
"userinput>\n"
"</screen> To have these settings persist over reboots, modify <filename>/etc/"
"sysctl.conf</filename>."
msgstr ""
"В <systemitem class=\"osname\">NetBSD</systemitem>, начиная с версии 5.0, "
"параметры IPC можно изменить, воспользовавшись командой <command>sysctl</"
"command>, например: <screen>\n"
"<prompt>$</prompt> <userinput>sysctl -w kern.ipc.shmmax=16777216</"
"userinput>\n"
"</screen> Чтобы эти параметры сохранялись после перезагрузки, измените "
"<filename>/etc/sysctl.conf</filename>."

#: runtime.xml:902(para)
msgid ""
"<systemitem class=\"osname\">NetBSD</systemitem> versions before 5.0 work "
"like <systemitem class=\"osname\">OpenBSD</systemitem> (see below), except "
"that parameters should be set with the keyword <literal>options</literal> "
"not <literal>option</literal>."
msgstr ""
"До версии 5.0 система <systemitem class=\"osname\">NetBSD</systemitem> "
"работала так же, как сейчас <systemitem class=\"osname\">OpenBSD</"
"systemitem> (см. ниже), за исключением того, что параметры устанавливаются с "
"указанием <literal>options</literal>, а не <literal>option</literal>."

#: runtime.xml:912(systemitem)
msgid "OpenBSD"
msgstr "OpenBSD"

#: runtime.xml:913(indexterm)
msgid "<primary>OpenBSD</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>OpenBSD</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:922(programlisting)
#, no-wrap
msgid ""
"option        SYSVSHM\n"
"option        SHMMAXPGS=4096\n"
"option        SHMSEG=256\n"
"\n"
"option        SYSVSEM\n"
"option        SEMMNI=256\n"
"option        SEMMNS=512\n"
"option        SEMMNU=256\n"
"option        SEMMAP=256"
msgstr ""
"option        SYSVSHM\n"
"option        SHMMAXPGS=4096\n"
"option        SHMSEG=256\n"
"\n"
"option        SYSVSEM\n"
"option        SEMMNI=256\n"
"option        SEMMNS=512\n"
"option        SEMMNU=256\n"
"option        SEMMAP=256"

#: runtime.xml:916(para)
msgid ""
"The options <varname>SYSVSHM</varname> and <varname>SYSVSEM</varname> need "
"to be enabled when the kernel is compiled. (They are by default.) The "
"maximum size of shared memory is determined by the option "
"<varname>SHMMAXPGS</varname> (in pages). The following shows an example of "
"how to set the various parameters: <placeholder-1/>"
msgstr ""
"При компиляции ядра должны быть включены механизмы <varname>SYSVSHM</"
"varname> и <varname>SYSVSEM</varname>. (По умолчанию они включены.) "
"Максимальный размер разделяемой памяти определяется параметром "
"<varname>SHMMAXPGS</varname> (в страницах). Ниже показан пример, как "
"установить следующие параметры: <placeholder-1/>"

#: runtime.xml:945(systemitem)
msgid "HP-UX"
msgstr "HP-UX"

#: runtime.xml:946(indexterm)
msgid "<primary>HP-UX</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>HP-UX</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:949(para)
msgid ""
"The default settings tend to suffice for normal installations. On "
"<productname>HP-UX</productname> 10, the factory default for "
"<varname>SEMMNS</varname> is 128, which might be too low for larger database "
"sites."
msgstr ""
"Значения по умолчанию обычно вполне удовлетворяют средним потребностям. В "
"<productname>HP-UX</productname> 10 параметр <varname>SEMMNS</varname> по "
"умолчанию имеет значение 128, что может быть недостаточно для больших баз "
"данных."

#: runtime.xml:955(para)
msgid ""
"<acronym>IPC</acronym> parameters can be set in the <application>System "
"Administration Manager</application> (<acronym>SAM</acronym>) under "
"<menuchoice><guimenu>Kernel Configuration</guimenu><guimenuitem>Configurable "
"Parameters</guimenuitem></menuchoice>. Choose <guibutton>Create A New "
"Kernel</guibutton> when you're done."
msgstr ""
"Параметры <acronym>IPC</acronym> можно установить в менеджере системного "
"администрирования (<application>System Administration Manager</application>, "
"<acronym>SAM</acronym>) в разделе <menuchoice><guimenu>Kernel Configuration "
"(Настройка ядра)</guimenu><guimenuitem>Configurable Parameters "
"(Настраиваемые параметры)</guimenuitem></menuchoice>. Установив нужные "
"параметры, выполните операцию <guibutton>Create A New Kernel</guibutton> "
"(Создать ядро)."

#: runtime.xml:967(systemitem)
msgid "Linux"
msgstr "Linux"

#: runtime.xml:968(indexterm)
msgid "<primary>Linux</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>Linux</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:971(para)
msgid ""
"The default maximum segment size is 32 MB, and the default maximum total "
"size is 2097152 pages. A page is almost always 4096 bytes except in unusual "
"kernel configurations with <quote>huge pages</quote> (use <literal>getconf "
"PAGE_SIZE</literal> to verify)."
msgstr ""
"По умолчанию максимальный размер сегмента равен 32 МБ, а максимальный общий "
"размер составляет 2097152 страниц. Страница почти всегда содержит 4096 байт, "
"за исключением нестандартных конфигураций ядра с поддержкой <quote>огромных "
"страниц</quote> (точно узнать размер страницы можно, выполнив "
"<literal>getconf PAGE_SIZE</literal>)."

#: runtime.xml:979(para)
msgid ""
"The shared memory size settings can be changed via the <command>sysctl</"
"command> interface. For example, to allow 16 GB: <screen>\n"
"<prompt>$</prompt> <userinput>sysctl -w kernel.shmmax=17179869184</"
"userinput>\n"
"<prompt>$</prompt> <userinput>sysctl -w kernel.shmall=4194304</userinput>\n"
"</screen> In addition these settings can be preserved between reboots in the "
"file <filename>/etc/sysctl.conf</filename>. Doing that is highly recommended."
msgstr ""
"Параметры размера разделяемой памяти можно изменить, воспользовавшись "
"командой <command>sysctl</command>. Например, так можно выделить 16 ГБ для "
"разделяемой памяти: <screen>\n"
"<prompt>$</prompt> <userinput>sysctl -w kernel.shmmax=17179869184</"
"userinput>\n"
"<prompt>$</prompt> <userinput>sysctl -w kernel.shmall=4194304</userinput>\n"
"</screen> Чтобы сохранить эти изменения после перезагрузки, их также можно "
"записать в файл <filename>/etc/sysctl.conf</filename> (это настоятельно "
"рекомендуется)."

#: runtime.xml:991(para)
msgid ""
"Ancient distributions might not have the <command>sysctl</command> program, "
"but equivalent changes can be made by manipulating the <filename>/proc</"
"filename> file system: <screen>\n"
"<prompt>$</prompt> <userinput>echo 17179869184 &gt;/proc/sys/kernel/shmmax</"
"userinput>\n"
"<prompt>$</prompt> <userinput>echo 4194304 &gt;/proc/sys/kernel/shmall</"
"userinput>\n"
"</screen>"
msgstr ""
"В некоторых старых дистрибутивах может не оказаться программы "
"<command>sysctl</command>, но те же изменения можно произвести, обратившись "
"к файловой системе <filename>/proc</filename>: <screen>\n"
"<prompt>$</prompt> <userinput>echo 17179869184 &gt;/proc/sys/kernel/shmmax</"
"userinput>\n"
"<prompt>$</prompt> <userinput>echo 4194304 &gt;/proc/sys/kernel/shmall</"
"userinput>\n"
"</screen>"

#: runtime.xml:1001(para)
msgid ""
"The remaining defaults are quite generously sized, and usually do not "
"require changes."
msgstr ""
"Остальные параметры имеют вполне подходящие значения, так что их обычно "
"менять не нужно."

#: runtime.xml:1010(systemitem)
msgid "OS X"
msgstr "OS X"

#: runtime.xml:1011(indexterm)
msgid "<primary>OS X</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>OS X</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:1018(programlisting)
#, no-wrap
msgid ""
"kern.sysv.shmmax=4194304\n"
"kern.sysv.shmmin=1\n"
"kern.sysv.shmmni=32\n"
"kern.sysv.shmseg=8\n"
"kern.sysv.shmall=1024"
msgstr ""
"kern.sysv.shmmax=4194304\n"
"kern.sysv.shmmin=1\n"
"kern.sysv.shmmni=32\n"
"kern.sysv.shmseg=8\n"
"kern.sysv.shmall=1024"

#: runtime.xml:1014(para)
msgid ""
"The recommended method for configuring shared memory in OS X is to create a "
"file named <filename>/etc/sysctl.conf</filename>, containing variable "
"assignments such as: <placeholder-1/> Note that in some OS X versions, "
"<emphasis>all five</emphasis> shared-memory parameters must be set in "
"<filename>/etc/sysctl.conf</filename>, else the values will be ignored."
msgstr ""
"Для настройки разделяемой памяти в OS X рекомендуется создать файл "
"<filename>/etc/sysctl.conf</filename> и записать в него присвоения "
"переменных следующим образом: <placeholder-1/> Заметьте, что в некоторых "
"версиях OS X, <emphasis>все пять</emphasis> параметров разделяемой памяти "
"должны быть установлены в <filename>/etc/sysctl.conf</filename>, иначе их "
"значения будут проигнорированы."

#: runtime.xml:1030(para)
msgid ""
"Beware that recent releases of OS X ignore attempts to set <varname>SHMMAX</"
"varname> to a value that isn't an exact multiple of 4096."
msgstr ""
"Имейте в виду, что последние версии OS X игнорируют попытки задать для "
"<varname>SHMMAX</varname> значение, не кратное 4096."

#: runtime.xml:1035(para)
msgid "<varname>SHMALL</varname> is measured in 4 kB pages on this platform."
msgstr ""
"<varname>SHMALL</varname> на этой платформе измеряется в страницах (по 4 КБ)."

#: runtime.xml:1039(para)
msgid ""
"In older OS X versions, you will need to reboot to have changes in the "
"shared memory parameters take effect. As of 10.5 it is possible to change "
"all but <varname>SHMMNI</varname> on the fly, using <application>sysctl</"
"application>. But it's still best to set up your preferred values via "
"<filename>/etc/sysctl.conf</filename>, so that the values will be kept "
"across reboots."
msgstr ""
"В старых версиях OS X, чтобы изменения параметров разделяемой памяти "
"вступили в силу, требовалась перезагрузка. Начиная с версии 10.5, все "
"параметры, кроме <varname>SHMMNI</varname> можно изменить &laquo;на "
"лету&raquo;, воспользовавшись командой <application>sysctl</application>. "
"Но, тем не менее, лучше задавать выбранные вами значения в <filename>/etc/"
"sysctl.conf</filename>, чтобы они сохранялись после перезагрузки."

#: runtime.xml:1053(programlisting)
#, no-wrap
msgid ""
"sysctl -w kern.sysv.shmmax\n"
"sysctl -w kern.sysv.shmmin\n"
"sysctl -w kern.sysv.shmmni\n"
"sysctl -w kern.sysv.shmseg\n"
"sysctl -w kern.sysv.shmall"
msgstr ""
"sysctl -w kern.sysv.shmmax\n"
"sysctl -w kern.sysv.shmmin\n"
"sysctl -w kern.sysv.shmmni\n"
"sysctl -w kern.sysv.shmseg\n"
"sysctl -w kern.sysv.shmall"

#: runtime.xml:1048(para)
msgid ""
"The file <filename>/etc/sysctl.conf</filename> is only honored in OS X "
"10.3.9 and later. If you are running a previous 10.3.x release, you must "
"edit the file <filename>/etc/rc</filename> and change the values in the "
"following commands: <placeholder-1/> Note that <filename>/etc/rc</filename> "
"is usually overwritten by OS X system updates, so you should expect to have "
"to redo these edits after each update."
msgstr ""
"Файл <filename>/etc/sysctl.conf</filename> обрабатывается, только начиная с "
"OS X версии 10.3.9. Если вы используете предыдущий выпуск 10.3.x, необходимо "
"отредактировать файл <filename>/etc/rc</filename> и задать значения "
"следующими командами: <placeholder-1/> Заметьте, что <filename>/etc/rc</"
"filename> обычно заменяется при обновлении системы OS X, так что следует "
"ожидать, что вам придётся повторять эти изменения после каждого обновления."

#: runtime.xml:1065(para)
msgid ""
"In OS X 10.2 and earlier, instead edit these commands in the file <filename>/"
"System/Library/StartupItems/SystemTuning/SystemTuning</filename>."
msgstr ""
"В OS X 10.2 и более ранних версиях вместо этого надо записать эти команды в "
"файле <filename>/System/Library/StartupItems/SystemTuning/SystemTuning</"
"filename>."

#: runtime.xml:1074(systemitem)
msgid "SCO OpenServer"
msgstr "SCO OpenServer"

#: runtime.xml:1075(indexterm)
msgid ""
"<primary>SCO OpenServer</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>SCO OpenServer</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:1083(programlisting)
#, no-wrap
msgid "./configure -y SHMMAX"
msgstr "./configure -y SHMMAX"

#: runtime.xml:1087(programlisting)
#, no-wrap
msgid "./configure SHMMAX=<replaceable>value</replaceable>"
msgstr "./configure SHMMAX=<replaceable>значение</replaceable>"

#: runtime.xml:1092(programlisting)
#, no-wrap
msgid "./link_unix"
msgstr "./link_unix"

#: runtime.xml:1078(para)
msgid ""
"In the default configuration, only 512 kB of shared memory per segment is "
"allowed. To increase the setting, first change to the directory <filename>/"
"etc/conf/cf.d</filename>. To display the current value of <varname>SHMMAX</"
"varname>, run: <placeholder-1/> To set a new value for <varname>SHMMAX</"
"varname>, run: <placeholder-2/> where <replaceable>value</replaceable> is "
"the new value you want to use (in bytes). After setting <varname>SHMMAX</"
"varname>, rebuild the kernel: <placeholder-3/> and reboot."
msgstr ""
"В стандартной конфигурации размер одного сегмента разделяемой памяти имеет "
"предел в 512 КБ. Чтобы увеличить этот предел, сначала перейдите в каталог "
"<filename>/etc/conf/cf.d</filename>. Затем просмотрите текущее значение "
"<varname>SHMMAX</varname>, выполнив: <placeholder-1/> Задайте новое значение "
"<varname>SHMMAX</varname>, выполнив: <placeholder-2/> Здесь "
"<replaceable>значение</replaceable> — новый предел, который вы хотите "
"установить (в байтах). Установив <varname>SHMMAX</varname>, пересоберите "
"ядро: <placeholder-3/> и перезагрузите систему."

#: runtime.xml:1104(indexterm)
msgid "<primary>Solaris</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>Solaris</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:1102(term)
msgid ""
"<systemitem class=\"osname\">Solaris</systemitem> 2.6 to 2.9 (Solaris 6 to "
"Solaris 9) <placeholder-1/>"
msgstr ""
"<systemitem class=\"osname\">Solaris</systemitem> версии с 2.6 по 2.9 "
"(Solaris 6 .. Solaris 9) <placeholder-1/>"

#: runtime.xml:1110(programlisting)
#, no-wrap
msgid ""
"set shmsys:shminfo_shmmax=0x2000000\n"
"set shmsys:shminfo_shmmin=1\n"
"set shmsys:shminfo_shmmni=256\n"
"set shmsys:shminfo_shmseg=256\n"
"\n"
"set semsys:seminfo_semmap=256\n"
"set semsys:seminfo_semmni=512\n"
"set semsys:seminfo_semmns=512\n"
"set semsys:seminfo_semmsl=32"
msgstr ""
"set shmsys:shminfo_shmmax=0x2000000\n"
"set shmsys:shminfo_shmmin=1\n"
"set shmsys:shminfo_shmmni=256\n"
"set shmsys:shminfo_shmseg=256\n"
"\n"
"set semsys:seminfo_semmap=256\n"
"set semsys:seminfo_semmni=512\n"
"set semsys:seminfo_semmns=512\n"
"set semsys:seminfo_semmsl=32"

#: runtime.xml:1107(para)
msgid ""
"The relevant settings can be changed in <filename>/etc/system</filename>, "
"for example: <placeholder-1/> You need to reboot for the changes to take "
"effect. See also <ulink url=\"http://sunsite.uakom.sk/sunworldonline/"
"swol-09-1997/swol-09-insidesolaris.html\"/> for information on shared memory "
"under older versions of Solaris."
msgstr ""
"Соответствующие параметры можно изменить в <filename>/etc/system</filename>, "
"например так: <placeholder-1/> Чтобы изменения вступили в силу, потребуется "
"перегрузить систему. Информацию о разделяемой памяти в более старых версиях "
"Solaris можно найти по ссылке <ulink url=\"http://sunsite.uakom.sk/"
"sunworldonline/swol-09-1997/swol-09-insidesolaris.html\"/>."

#: runtime.xml:1129(term)
msgid ""
"<systemitem class=\"osname\">Solaris</systemitem> 2.10 (Solaris 10) and later"
msgstr ""
"<systemitem class=\"osname\">Solaris</systemitem> 2.10 (Solaris 10) и более "
"поздние версии"

#: runtime.xml:1131(systemitem)
msgid "OpenSolaris"
msgstr "OpenSolaris"

#: runtime.xml:1141(programlisting)
#, no-wrap
msgid "projadd -c \"PostgreSQL DB User\" -K \"project.max-shm-memory=(privileged,8GB,deny)\" -U postgres -G postgres user.postgres"
msgstr "projadd -c \"PostgreSQL DB User\" -K \"project.max-shm-memory=(privileged,8GB,deny)\" -U postgres -G postgres user.postgres"

#: runtime.xml:1133(para)
msgid ""
"In Solaris 10 and later, and OpenSolaris, the default shared memory and "
"semaphore settings are good enough for most <productname>PostgreSQL</"
"productname> applications. Solaris now defaults to a <varname>SHMMAX</"
"varname> of one-quarter of system <acronym>RAM</acronym>. To further adjust "
"this setting, use a project setting associated with the <literal>postgres</"
"literal> user. For example, run the following as <literal>root</literal>: "
"<placeholder-1/>"
msgstr ""
"В Solaris 10 и новее, а также в OpenSolaris, стандартные параметры "
"разделяемой памяти и семафоров достаточно хороши для большинства применений "
"<productname>PostgreSQL</productname>. По умолчанию Solaris теперь "
"устанавливает в <varname>SHMMAX</varname> четверть объёма <acronym>ОЗУ</"
"acronym>. Чтобы изменить этот параметр, воспользуйтесь возможностью задать "
"параметр проекта, связанного с пользователем <literal>postgres</literal>. "
"Например, выполните от имени <literal>root</literal> такую команду: "
"<placeholder-1/>"

#: runtime.xml:1146(para)
msgid ""
"This command adds the <literal>user.postgres</literal> project and sets the "
"shared memory maximum for the <literal>postgres</literal> user to 8GB, and "
"takes effect the next time that user logs in, or when you restart "
"<productname>PostgreSQL</productname> (not reload). The above assumes that "
"<productname>PostgreSQL</productname> is run by the <literal>postgres</"
"literal> user in the <literal>postgres</literal> group. No server reboot is "
"required."
msgstr ""
"Эта команда создаёт проект <literal>user.postgres</literal> и устанавливает "
"максимальный объём разделяемой памяти для пользователя <literal>postgres</"
"literal> равным 8 ГБ. Это изменение вступает в силу при следующем входе "
"этого пользователя или при перезапуске <productname>PostgreSQL</productname> "
"(не перезагрузке конфигурации). При этом подразумевается, что "
"<productname>PostgreSQL</productname> выполняется пользователем "
"<literal>postgres</literal> в группе <literal>postgres</literal>. "
"Перезагружать систему после этой команды не нужно."

#: runtime.xml:1159(programlisting)
#, no-wrap
msgid ""
"project.max-shm-ids=(priv,32768,deny)\n"
"project.max-sem-ids=(priv,4096,deny)\n"
"project.max-msg-ids=(priv,4096,deny)"
msgstr ""
"project.max-shm-ids=(priv,32768,deny)\n"
"project.max-sem-ids=(priv,4096,deny)\n"
"project.max-msg-ids=(priv,4096,deny)"

#: runtime.xml:1156(para)
msgid ""
"Other recommended kernel setting changes for database servers which will "
"have a large number of connections are: <placeholder-1/>"
msgstr ""
"Для серверов баз данных, рассчитанных на большое количество подключений, "
"рекомендуется также изменить следующие параметры: <placeholder-1/>"

#: runtime.xml:1166(para)
msgid ""
"Additionally, if you are running <productname>PostgreSQL</productname> "
"inside a zone, you may need to raise the zone resource usage limits as well. "
"See \"Chapter2: Projects and Tasks\" in the <citetitle>System "
"Administrator's Guide</citetitle> for more information on <literal>projects</"
"literal> and <command>prctl</command>."
msgstr ""
"Кроме того, если <productname>PostgreSQL</productname> у вас выполняется "
"внутри зоны, может понадобиться также увеличить лимиты на использование "
"ресурсов зоны. Получить дополнительную информацию о <literal>проектах</"
"literal> и команде <command>prctl</command> можно в <citetitle>Руководстве "
"системного администратора</citetitle> (System Administrator's Guide), &laquo;"
"Главе 2: Проекты и задачи&raquo; (Chapter2: Projects and Tasks)."

#: runtime.xml:1178(systemitem)
msgid "UnixWare"
msgstr "UnixWare"

#: runtime.xml:1179(indexterm)
msgid "<primary>UnixWare</primary><secondary>IPC configuration</secondary>"
msgstr "<primary>UnixWare</primary> <secondary>настройка IPC</secondary>"

#: runtime.xml:1186(programlisting)
#, no-wrap
msgid "/etc/conf/bin/idtune -g SHMMAX"
msgstr "/etc/conf/bin/idtune -g SHMMAX"

#: runtime.xml:1192(programlisting)
#, no-wrap
msgid "/etc/conf/bin/idtune SHMMAX <replaceable>value</replaceable>"
msgstr "/etc/conf/bin/idtune SHMMAX <replaceable>значение</replaceable>"

#: runtime.xml:1198(programlisting)
#, no-wrap
msgid "/etc/conf/bin/idbuild -B"
msgstr "/etc/conf/bin/idbuild -B"

#: runtime.xml:1182(para)
msgid ""
"On <productname>UnixWare</productname> 7, the maximum size for shared memory "
"segments is 512 kB in the default configuration. To display the current "
"value of <varname>SHMMAX</varname>, run: <placeholder-1/> which displays the "
"current, default, minimum, and maximum values. To set a new value for "
"<varname>SHMMAX</varname>, run: <placeholder-2/> where <replaceable>value</"
"replaceable> is the new value you want to use (in bytes). After setting "
"<varname>SHMMAX</varname>, rebuild the kernel: <placeholder-3/> and reboot."
msgstr ""
"В <productname>UnixWare</productname> 7 максимальный размер сегментов "
"разделяемой памяти равен 512 КБ в стандартной конфигурации. Чтобы "
"просмотреть текущее значение <varname>SHMMAX</varname>, выполните: "
"<placeholder-1/> В результате вы увидите текущее значение, значение по "
"умолчанию, а также минимальные и максимальные значения. Чтобы задать новое "
"значение <varname>SHMMAX</varname>, выполните: <placeholder-2/> Здесь "
"<replaceable>значение</replaceable> — новый предел, который вы хотите "
"установить (в байтах). Изменив значение <varname>SHMMAX</varname>, "
"пересоберите ядро: <placeholder-3/> и перегрузите систему."

#: runtime.xml:1211(title)
msgid "Resource Limits"
msgstr "Ограничения ресурсов"

#: runtime.xml:1233(programlisting)
#, no-wrap
msgid ""
"default:\\\n"
"...\n"
"        :datasize-cur=256M:\\\n"
"        :maxproc-cur=256:\\\n"
"        :openfiles-cur=256:\\\n"
"..."
msgstr ""
"default:\\\n"
"...\n"
"        :datasize-cur=256M:\\\n"
"        :maxproc-cur=256:\\\n"
"        :openfiles-cur=256:\\\n"
"..."

#: runtime.xml:1213(para)
msgid ""
"Unix-like operating systems enforce various kinds of resource limits that "
"might interfere with the operation of your <productname>PostgreSQL</"
"productname> server. Of particular importance are limits on the number of "
"processes per user, the number of open files per process, and the amount of "
"memory available to each process. Each of these have a <quote>hard</quote> "
"and a <quote>soft</quote> limit. The soft limit is what actually counts but "
"it can be changed by the user up to the hard limit. The hard limit can only "
"be changed by the root user. The system call <function>setrlimit</function> "
"is responsible for setting these parameters. The shell's built-in command "
"<command>ulimit</command> (Bourne shells) or <command>limit</command> "
"(<application>csh</application>) is used to control the resource limits from "
"the command line. On BSD-derived systems the file <filename>/etc/login.conf</"
"filename> controls the various resource limits set during login. See the "
"operating system documentation for details. The relevant parameters are "
"<varname>maxproc</varname>, <varname>openfiles</varname>, and "
"<varname>datasize</varname>. For example: <placeholder-1/> (<literal>-cur</"
"literal> is the soft limit. Append <literal>-max</literal> to set the hard "
"limit.)"
msgstr ""
"В Unix-подобных операционных системах существуют различные типы ограничений "
"ресурсов, которые могут влиять на работу сервера <productname>PostgreSQL</"
"productname>. Особенно важны ограничения на число процессов для "
"пользователя, число открытых файлов и объём памяти для каждого процесса. "
"Каждое из этих ограничений имеет <quote>жёсткий</quote> и <quote>мягкий</"
"quote> предел. Мягкий предел действительно ограничивает использование "
"ресурса, но пользователь может увеличить его значение до жёсткого предела. "
"Изменить жёсткий предел может только пользователь root. За изменение этих "
"параметров отвечает системный вызов <function>setrlimit</function>. "
"Управлять этими ресурсами в командной строке позволяет встроенная команда "
"<command>ulimit</command> (в оболочках Bourne) и <command>limit</command> "
"(<application>csh</application>). В системах семейства BSD различными "
"ограничениями ресурсов, устанавливаемыми при входе пользователя, управляет "
"файл <filename>/etc/login.conf</filename>. За подробностями обратитесь к "
"документации операционной системы. Для <productname>PostgreSQL</productname> "
"интерес представляют параметры <varname>maxproc</varname>, "
"<varname>openfiles</varname> и <varname>datasize</varname>. Они могут "
"задаваться, например так: <placeholder-1/> (Здесь <literal>-cur</literal> "
"обозначает мягкий предел. Чтобы задать жёсткий предел, нужно заменить это "
"окончание на <literal>-max</literal>.)"

#: runtime.xml:1249(para)
msgid ""
"On <productname>Linux</productname> <filename>/proc/sys/fs/file-max</"
"filename> determines the maximum number of open files that the kernel will "
"support. It can be changed by writing a different number into the file or by "
"adding an assignment in <filename>/etc/sysctl.conf</filename>. The maximum "
"limit of files per process is fixed at the time the kernel is compiled; see "
"<filename>/usr/src/linux/Documentation/proc.txt</filename> for more "
"information."
msgstr ""
"В <productname>Linux</productname> максимальное число открытых файлов, "
"которое поддерживает ядро, определяется в спецфайле <filename>/proc/sys/fs/"
"file-max</filename>. Изменить этот предел можно, записав другое число в этот "
"файл, либо добавив присваивание в файл <filename>/etc/sysctl.conf</"
"filename>. Максимальное число файлов для одного процесса задаётся при "
"компиляции ядра; за дополнительными сведения обратитесь к <filename>/usr/src/"
"linux/Documentation/proc.txt</filename>."

#: runtime.xml:1245(para)
msgid ""
"Kernels can also have system-wide limits on some resources. <placeholder-1/>"
msgstr ""
"Ядро также может устанавливать общесистемные ограничения на использование "
"некоторых ресурсов. <placeholder-1/>"

#: runtime.xml:1264(para)
msgid ""
"The <productname>PostgreSQL</productname> server uses one process per "
"connection so you should provide for at least as many processes as allowed "
"connections, in addition to what you need for the rest of your system. This "
"is usually not a problem but if you run several servers on one machine "
"things might get tight."
msgstr ""
"Сервер <productname>PostgreSQL</productname> использует для обслуживания "
"каждого подключения отдельный процесс, так что возможное число процессов "
"должно быть не меньше числа разрешённых соединений плюс число процессов, "
"требуемых для остальной системы. Это обычно не проблема, но когда в одной "
"системе работает множество серверов, предел может быть достигнут."

#: runtime.xml:1272(para)
msgid ""
"The factory default limit on open files is often set to <quote>socially "
"friendly</quote> values that allow many users to coexist on a machine "
"without using an inappropriate fraction of the system resources. If you run "
"many servers on a machine this is perhaps what you want, but on dedicated "
"servers you might want to raise this limit."
msgstr ""
"В качестве максимального числа открытых файлов по умолчанию обычно "
"выбираются <quote>социально-ориентированные</quote> значения, позволяющие "
"использовать одну систему нескольким пользователям так, чтобы ни один из них "
"не потреблял слишком много системных ресурсов. Если вы запускаете в системе "
"несколько серверов, это должно вполне устраивать, но на выделенных машинах "
"может возникнуть желание увеличить этот предел."

#: runtime.xml:1281(para)
msgid ""
"On the other side of the coin, some systems allow individual processes to "
"open large numbers of files; if more than a few processes do so then the "
"system-wide limit can easily be exceeded. If you find this happening, and "
"you do not want to alter the system-wide limit, you can set "
"<productname>PostgreSQL</productname>'s <xref linkend=\"guc-max-files-per-"
"process\"/> configuration parameter to limit the consumption of open files."
msgstr ""
"С другой стороны, некоторые системы позволяют отдельным процессам открывать "
"очень много файлов и если это делают сразу несколько процессов, они могут "
"легко исчерпать общесистемный предел. Если вы столкнётесь с такой ситуацией, "
"но не захотите менять общесистемное ограничение, вы можете ограничить "
"использование открытых файлов сервером <productname>PostgreSQL</"
"productname>, установив параметр конфигурации <xref linkend=\"guc-max-files-"
"per-process\"/>."

#: runtime.xml:1293(title)
msgid "Linux Memory Overcommit"
msgstr "Чрезмерное выделение памяти в Linux"

#: runtime.xml:1295(indexterm)
msgid "<primary>memory overcommit</primary>"
msgstr "<primary>memory overcommit</primary>"

#: runtime.xml:1299(indexterm)
msgid "<primary>OOM</primary>"
msgstr "<primary>OOM</primary>"

#: runtime.xml:1303(indexterm)
msgid "<primary>overcommit</primary>"
msgstr "<primary>overcommit</primary>"

#: runtime.xml:1307(para)
msgid ""
"In Linux 2.4 and later, the default virtual memory behavior is not optimal "
"for <productname>PostgreSQL</productname>. Because of the way that the "
"kernel implements memory overcommit, the kernel might terminate the "
"<productname>PostgreSQL</productname> postmaster (the master server process) "
"if the memory demands of either <productname>PostgreSQL</productname> or "
"another process cause the system to run out of virtual memory."
msgstr ""
"В Linux 2.4 и новее механизм виртуальной памяти по умолчанию работает не "
"оптимально для <productname>PostgreSQL</productname>. Вследствие того, что "
"ядро выделяет память в чрезмерном объёме, оно может уничтожить главный "
"управляющий процесс <productname>PostgreSQL</productname> (postmaster), если "
"при выделении памяти процессу <productname>PostgreSQL</productname> или "
"другому процессу виртуальная память будет исчерпана."

#: runtime.xml:1321(programlisting)
#, no-wrap
msgid "Out of Memory: Killed process 12345 (postgres)."
msgstr "Out of Memory: Killed process 12345 (postgres)."

#: runtime.xml:1317(para)
msgid ""
"If this happens, you will see a kernel message that looks like this (consult "
"your system documentation and configuration on where to look for such a "
"message): <placeholder-1/> This indicates that the <filename>postgres</"
"filename> process has been terminated due to memory pressure. Although "
"existing database connections will continue to function normally, no new "
"connections will be accepted. To recover, <productname>PostgreSQL</"
"productname> will need to be restarted."
msgstr ""
"Когда это происходит, вы можете получить примерно такое сообщение ядра (где "
"именно искать это сообщение, можно узнать в документации вашей системы): "
"<placeholder-1/> Это сообщение говорит о том, что процесс "
"<filename>postgres</filename> был уничтожен из-за нехватки памяти. Хотя "
"существующие подключения к базе данных будут работать по-прежнему, новые "
"подключения приниматься не будут. Чтобы восстановить работу сервера, "
"<productname>PostgreSQL</productname> придётся перезапустить."

#: runtime.xml:1331(para)
msgid ""
"One way to avoid this problem is to run <productname>PostgreSQL</"
"productname> on a machine where you can be sure that other processes will "
"not run the machine out of memory. If memory is tight, increasing the swap "
"space of the operating system can help avoid the problem, because the out-of-"
"memory (OOM) killer is invoked only when physical memory and swap space are "
"exhausted."
msgstr ""
"Один из способов обойти эту проблему — запускать <productname>PostgreSQL</"
"productname> на компьютере, где никакие другие процессы не займут всю "
"память. Если физической памяти недостаточно, решить проблему также можно, "
"увеличив объём пространства подкачки, так как уничтожение процессов при "
"нехватке памяти происходит только когда заканчивается и физическая память, и "
"место в пространстве подкачки."

#: runtime.xml:1341(para)
msgid ""
"If <productname>PostgreSQL</productname> itself is the cause of the system "
"running out of memory, you can avoid the problem by changing your "
"configuration. In some cases, it may help to lower memory-related "
"configuration parameters, particularly <link linkend=\"guc-shared-buffers"
"\"><varname>shared_buffers</varname></link> and <link linkend=\"guc-work-mem"
"\"><varname>work_mem</varname></link>. In other cases, the problem may be "
"caused by allowing too many connections to the database server itself. In "
"many cases, it may be better to reduce <link linkend=\"guc-max-connections"
"\"><varname>max_connections</varname></link> and instead make use of "
"external connection-pooling software."
msgstr ""
"Если памяти не хватает по вине самого <productname>PostgreSQL</productname>, "
"эту проблему можно решить, изменив конфигурацию сервера. В некоторых случаях "
"может помочь уменьшение конфигурационных параметров, связанных с памятью, а "
"именно <link linkend=\"guc-shared-buffers\"><varname>shared_buffers</"
"varname></link> и <link linkend=\"guc-work-mem\"><varname>work_mem</"
"varname></link>. В других случаях проблема может возникать, потому что "
"разрешено слишком много подключений к самому серверу баз данных. Чаще всего "
"в такой ситуации стоит уменьшить число подключений <link linkend=\"guc-max-"
"connections\"><varname>max_connections</varname></link> и организовать "
"внешний пул соединений."

#: runtime.xml:1362(programlisting)
#, no-wrap
msgid "sysctl -w vm.overcommit_memory=2"
msgstr "sysctl -w vm.overcommit_memory=2"

#: runtime.xml:1354(para)
msgid ""
"On Linux 2.6 and later, it is possible to modify the kernel's behavior so "
"that it will not <quote>overcommit</quote> memory. Although this setting "
"will not prevent the <ulink url=\"http://lwn.net/Articles/104179/\">OOM "
"killer</ulink> from being invoked altogether, it will lower the chances "
"significantly and will therefore lead to more robust system behavior. This "
"is done by selecting strict overcommit mode via <command>sysctl</command>: "
"<placeholder-1/> or placing an equivalent entry in <filename>/etc/sysctl."
"conf</filename>. You might also wish to modify the related setting "
"<varname>vm.overcommit_ratio</varname>. For details see the kernel "
"documentation file <ulink url=\"https://www.kernel.org/doc/Documentation/vm/"
"overcommit-accounting\"/>."
msgstr ""
"В Linux 2.6 и новее <quote>чрезмерное выделение</quote> памяти можно "
"предотвратить, изменив поведение ядра. Хотя при этом <ulink url=\"http://lwn."
"net/Articles/104179/\">OOM killer</ulink> (уничтожение процессов при "
"нехватке памяти) всё равно может вызываться, вероятность такого уничтожения "
"значительно уменьшается, а значит поведение системы становится более "
"стабильным. Для этого нужно включить режим строгого выделения памяти, "
"воспользовавшись <command>sysctl</command>: <placeholder-1/> либо поместив "
"соответствующую запись в <filename>/etc/sysctl.conf</filename>. Возможно, вы "
"также захотите изменить связанный параметр <varname>vm.overcommit_ratio</"
"varname>. За подробностями обратитесь к документации ядра <ulink url="
"\"https://www.kernel.org/doc/Documentation/vm/overcommit-accounting\"/>."

#: runtime.xml:1377(programlisting)
#, no-wrap
msgid "echo -1000 &gt; /proc/self/oom_score_adj"
msgstr "echo -1000 &gt; /proc/self/oom_score_adj"

#: runtime.xml:1385(programlisting)
#, no-wrap
msgid ""
"export PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\n"
"export PG_OOM_ADJUST_VALUE=0"
msgstr ""
"export PG_OOM_ADJUST_FILE=/proc/self/oom_score_adj\n"
"export PG_OOM_ADJUST_VALUE=0"

#: runtime.xml:1371(para)
msgid ""
"Another approach, which can be used with or without altering <varname>vm."
"overcommit_memory</varname>, is to set the process-specific <firstterm>OOM "
"score adjustment</firstterm> value for the postmaster process to "
"<literal>-1000</literal>, thereby guaranteeing it will not be targeted by "
"the OOM killer. The simplest way to do this is to execute <placeholder-1/> "
"in the postmaster's startup script just before invoking the postmaster. Note "
"that this action must be done as root, or it will have no effect; so a root-"
"owned startup script is the easiest place to do it. If you do this, you "
"should also set these environment variables in the startup script before "
"invoking the postmaster: <placeholder-2/> These settings will cause "
"postmaster child processes to run with the normal OOM score adjustment of "
"zero, so that the OOM killer can still target them at need. You could use "
"some other value for <envar>PG_OOM_ADJUST_VALUE</envar> if you want the "
"child processes to run with some other OOM score adjustment. "
"(<envar>PG_OOM_ADJUST_VALUE</envar> can also be omitted, in which case it "
"defaults to zero.) If you do not set <envar>PG_OOM_ADJUST_FILE</envar>, the "
"child processes will run with the same OOM score adjustment as the "
"postmaster, which is unwise since the whole point is to ensure that the "
"postmaster has a preferential setting."
msgstr ""
"Другой подход, который можно применить (возможно, вместе с изменением "
"<varname>vm.overcommit_memory</varname>), заключается в исключении процесса "
"postmaster из числа возможных жертв при нехватке памяти. Для этого нужно "
"задать для свойства <firstterm>поправка очков OOM</firstterm> этого процесса "
"значение <literal>-1000</literal>. Проще всего это можно сделать, выполнив "
"<placeholder-1/> в скрипте запуска управляющего процесса непосредственно "
"перед тем, как запускать postmaster. Заметьте, что делать это надо под "
"именем root, иначе ничего не изменится; поэтому проще всего вставить эту "
"команду в стартовый скрипт, принадлежащий пользователю root. Если вы делаете "
"это, вы также должны установить в данном скрипте эти переменные окружения "
"перед запуском главного процесса: <placeholder-2/> С такими параметрами "
"дочерние процессы главного будут запускаться с обычной, нулевой поправкой "
"очков OOM, так что при необходимости механизм OOM сможет уничтожать их. Вы "
"можете задать и другое значение для <envar>PG_OOM_ADJUST_VALUE</envar>, если "
"хотите, чтобы дочерние процессы исполнялись с другой поправкой OOM. "
"(<envar>PG_OOM_ADJUST_VALUE</envar> также можно опустить, в этом случае "
"подразумевается нулевое значение.) Если вы не установите "
"<envar>PG_OOM_ADJUST_FILE</envar>, дочерние процессы будут работать с той же "
"поправкой очков OOM, которая задана для главного процесса, что неразумно, "
"так всё это делается как раз для того, чтобы главный процесс оказался на "
"особом положении."

#: runtime.xml:1400(para)
msgid ""
"Older Linux kernels do not offer <filename>/proc/self/oom_score_adj</"
"filename>, but may have a previous version of the same functionality called "
"<filename>/proc/self/oom_adj</filename>. This works the same except the "
"disable value is <literal>-17</literal> not <literal>-1000</literal>."
msgstr ""
"В старых ядрах Linux <filename>/proc/self/oom_score_adj</filename> "
"отсутствует, но та же функциональность может быть доступна через <filename>/"
"proc/self/oom_adj</filename>. Эта переменная процесса работает так же, "
"только значение, исключающее уничтожение процесса, равно <literal>-17</"
"literal>, а не <literal>-1000</literal>."

#: runtime.xml:1408(para)
msgid ""
"Some vendors' Linux 2.4 kernels are reported to have early versions of the "
"2.6 overcommit <command>sysctl</command> parameter. However, setting "
"<literal>vm.overcommit_memory</literal> to 2 on a 2.4 kernel that does not "
"have the relevant code will make things worse, not better. It is recommended "
"that you inspect the actual kernel source code (see the function "
"<function>vm_enough_memory</function> in the file <filename>mm/mmap.c</"
"filename>) to verify what is supported in your kernel before you try this in "
"a 2.4 installation. The presence of the <filename>overcommit-accounting</"
"filename> documentation file should <emphasis>not</emphasis> be taken as "
"evidence that the feature is there. If in any doubt, consult a kernel expert "
"or your kernel vendor."
msgstr ""
"Некоторые дистрибутивы с ядрами Linux 2.4 содержат предварительную "
"реализацию механизма <command>sysctl</command> overcommit, появившегося "
"официально в 2.6. Однако, если установить для <literal>vm.overcommit_memory</"
"literal> значение 2 в ядре 2.4, ситуация не улучшится, а только ухудшится. "
"Прежде чем модифицировать этот параметр в ядре 2.4, рекомендуется "
"проанализировать исходный код вашего ядра (см. функцию "
"<function>vm_enough_memory</function> в файле <filename>mm/mmap.c</"
"filename>) и убедиться, что ядро поддерживает именно нужный вам режим. "
"Наличие файла документации <filename>overcommit-accounting</filename> "
"<emphasis>не</emphasis> следует считать признаком того, что он действительно "
"поддерживается. В случае сомнений, обратитесь к эксперту по ядру или "
"поставщику вашей системы."

#: runtime.xml:1426(title)
#, fuzzy
msgid "Linux Huge Pages"
msgstr "Огромные страницы в Linux"

#: runtime.xml:1441(programlisting)
#, fuzzy, no-wrap
msgid ""
"$ <userinput>head -1 $PGDATA/postmaster.pid</userinput>\n"
"4170\n"
"$ <userinput>grep ^VmPeak /proc/4170/status</userinput>\n"
"VmPeak:  6490428 kB\n"
"$ <userinput>grep ^Hugepagesize /proc/meminfo</userinput>\n"
"Hugepagesize:       2048 kB"
msgstr ""
"$ <userinput>head -1 /path/to/data/directory/postmaster.pid</userinput>\n"
"4170\n"
"$ <userinput>grep ^VmPeak /proc/4170/status</userinput>\n"
"VmPeak:  6490428 kB"

#: runtime.xml:1452(programlisting)
#, no-wrap
msgid "$ <userinput>sysctl -w vm.nr_hugepages=3170</userinput>"
msgstr "$ <userinput>sysctl -w vm.nr_hugepages=3170</userinput>"

#: runtime.xml:1428(para)
#, fuzzy
msgid ""
"Using huge pages reduces overhead when using large contiguous chunks of "
"memory, as <productname>PostgreSQL</productname> does, particularly when "
"using large values of <xref linkend=\"guc-shared-buffers\"/>. To use this "
"feature in <productname>PostgreSQL</productname> you need a kernel with "
"<varname>CONFIG_HUGETLBFS=y</varname> and <varname>CONFIG_HUGETLB_PAGE=y</"
"varname>. You will also have to adjust the kernel setting <varname>vm."
"nr_hugepages</varname>. To estimate the number of huge pages needed, start "
"<productname>PostgreSQL</productname> without huge pages enabled and check "
"the postmaster's <varname>VmPeak</varname> value, as well as the system's "
"huge page size, using the <filename>/proc</filename> file system. This might "
"look like: <placeholder-1/> <literal>6490428</literal> / <literal>2048</"
"literal> gives approximately <literal>3169.154</literal>, so in this example "
"we need at least <literal>3170</literal> huge pages, which we can set with: "
"<placeholder-2/> A larger setting would be appropriate if other programs on "
"the machine also need huge pages. Don't forget to add this setting to "
"<filename>/etc/sysctl.conf</filename> so that it will be reapplied after "
"reboots."
msgstr ""
"Использование огромных страниц снижает накладные расходы при работе с "
"большими непрерывными блоками памяти, что характерно для "
"<productname>PostgreSQL</productname>. Чтобы использовать эту возможность в "
"<productname>PostgreSQL</productname>, ядро должно быть собрано с "
"параметрами <varname>CONFIG_HUGETLBFS=y</varname> и "
"<varname>CONFIG_HUGETLB_PAGE=y</varname>. Также вам нужно будет настроить "
"системный параметр <varname>vm.nr_hugepages</varname>. Чтобы оценить, "
"сколько огромных страниц потребуется для <productname>PostgreSQL</"
"productname>, нужно запустить сервер без поддержки огромных страниц и "
"посмотреть на значение <varname>VmPeak</varname> в файловой системе proc: "
"<placeholder-1/> <literal>6490428</literal> / <literal>2048</literal> "
"(размер страницы (<varname>PAGE_SIZE</varname>) в данном случае равен "
"<literal>2 МБ</literal>) — это приблизительно <literal>3169.154</literal> "
"огромных страниц, так что потребуется не меньше <literal>3170</literal> "
"огромных страниц: <placeholder-2/> Иногда ядро не может выделить запрошенное "
"количество огромных страниц сразу, поэтому может потребоваться повторить эту "
"команду или перезагрузить систему. Чтобы изменённый параметр сохранился "
"после перезагрузки, не забудьте записать его в <filename>/etc/sysctl.conf</"
"filename>."

#: runtime.xml:1467(programlisting)
#, fuzzy, no-wrap
msgid "$ <userinput>grep Huge /proc/meminfo</userinput>"
msgstr "$ <userinput>sysctl -w vm.nr_hugepages=3170</userinput>"

#: runtime.xml:1461(para)
msgid ""
"Sometimes the kernel is not able to allocate the desired number of huge "
"pages immediately, so it might be necessary to repeat the command or to "
"reboot. (Immediately after a reboot, most of the machine's memory should be "
"available to convert into huge pages.) To verify the huge page allocation "
"situation, use: <placeholder-1/>"
msgstr ""

#: runtime.xml:1472(para)
#, fuzzy
msgid ""
"It may also be necessary to give the database server's operating system user "
"permission to use huge pages by setting <varname>vm.hugetlb_shm_group</"
"varname> via <application>sysctl</application>, and/or give permission to "
"lock memory with <command>ulimit -l</command>."
msgstr ""
"Также необходимо дать пользователю операционной системы, запускающему сервер "
"БД, право использовать огромные страницы, установив его группу в <varname>vm."
"hugetlb_shm_group</varname> с помощью <application>sysctl</application>, и "
"разрешить блокировать память, выполнив <command>ulimit -l</command>."

#: runtime.xml:1479(para)
#, fuzzy
msgid ""
"The default behavior for huge pages in <productname>PostgreSQL</productname> "
"is to use them when possible and to fall back to normal pages when failing. "
"To enforce the use of huge pages, you can set <xref linkend=\"guc-huge-pages"
"\"/> to <literal>on</literal> in <filename>postgresql.conf</filename>. Note "
"that with this setting <productname>PostgreSQL</productname> will fail to "
"start if not enough huge pages are available."
msgstr ""
"По умолчанию <productname>PostgreSQL</productname> использует огромные "
"страницы, когда считает это возможным, а в противном случае, переходит к "
"обычным страницам. Чтобы задействовать огромные страницы принудительно, "
"можно установить для <link linkend=\"guc-huge-pages\"><varname>huge_pages</"
"varname></link> значение <literal>on</literal>. Заметьте, что в этом случае "
"<productname>PostgreSQL</productname> не сможет запуститься, если не получит "
"достаточного количества огромных страниц."

#: runtime.xml:1489(para)
msgid ""
"For a detailed description of the <productname>Linux</productname> huge "
"pages feature have a look at <ulink url=\"https://www.kernel.org/doc/"
"Documentation/vm/hugetlbpage.txt\"/>."
msgstr ""
"Более подробно о механизме огромных страниц в <productname>Linux</"
"productname> можно узнать в документации ядра: <ulink url=\"https://www."
"kernel.org/doc/Documentation/vm/hugetlbpage.txt\"/>."

#: runtime.xml:1500(title)
msgid "Shutting Down the Server"
msgstr "Выключение сервера"

#: runtime.xml:1502(indexterm)
msgid "<primary>shutdown</primary>"
msgstr "<primary>выключение</primary>"

#: runtime.xml:1513(systemitem)
msgid "SIGTERM"
msgstr "SIGTERM"

#: runtime.xml:1513(indexterm)
msgid "<primary>SIGTERM</primary>"
msgstr "<primary>SIGTERM</primary>"

#: runtime.xml:1515(para)
msgid ""
"This is the <firstterm>Smart Shutdown</firstterm> mode. After receiving "
"<systemitem>SIGTERM</systemitem>, the server disallows new connections, but "
"lets existing sessions end their work normally. It shuts down only after all "
"of the sessions terminate. If the server is in online backup mode, it "
"additionally waits until online backup mode is no longer active. While "
"backup mode is active, new connections will still be allowed, but only to "
"superusers (this exception allows a superuser to connect to terminate online "
"backup mode). If the server is in recovery when a smart shutdown is "
"requested, recovery and streaming replication will be stopped only after all "
"regular sessions have terminated."
msgstr ""
"Запускает так называемое <firstterm>умное выключение</firstterm>. Получив "
"<systemitem>SIGTERM</systemitem>, сервер перестаёт принимать новые "
"подключения, но позволяет всем существующим сеансам закончить работу в "
"штатном режиме. Сервер будет отключён только после завершения всех сеансов. "
"Если сервер находится в режиме архивации, сервер дополнительно ожидает "
"выхода из этого режима. При этом в данном случае сервер позволяет "
"устанавливать новые подключения, но только для суперпользователей (это "
"исключение позволяет суперпользователю подключиться и прервать архивацию). "
"Если получая этот сигнал, сервер находится в процессе восстановления, "
"восстановление и потоковая репликация будут прерваны только после завершения "
"всех обычных сеансов."

#: runtime.xml:1532(systemitem)
msgid "SIGINT"
msgstr "SIGINT"

#: runtime.xml:1532(indexterm)
msgid "<primary>SIGINT</primary>"
msgstr "<primary>SIGINT</primary>"

#: runtime.xml:1534(para)
msgid ""
"This is the <firstterm>Fast Shutdown</firstterm> mode. The server disallows "
"new connections and sends all existing server processes <systemitem>SIGTERM</"
"systemitem>, which will cause them to abort their current transactions and "
"exit promptly. It then waits for all server processes to exit and finally "
"shuts down. If the server is in online backup mode, backup mode will be "
"terminated, rendering the backup useless."
msgstr ""
"Запускает <firstterm>быстрое выключение</firstterm>. Сервер запрещает новые "
"подключения и посылает всем работающим серверным процессам сигнал "
"<systemitem>SIGTERM</systemitem>, в результате чего их транзакции "
"прерываются и сами процессы завершаются. Управляющий процесс ждёт, пока "
"будут завершены все эти процессы и затем завершается сам. Если сервер "
"находится в режиме архивации, архивация прерывается, так что архив "
"оказывается неполным."

#: runtime.xml:1547(systemitem)
msgid "SIGQUIT"
msgstr "SIGQUIT"

#: runtime.xml:1547(indexterm)
msgid "<primary>SIGQUIT</primary>"
msgstr "<primary>SIGQUIT</primary>"

#: runtime.xml:1549(para)
msgid ""
"This is the <firstterm>Immediate Shutdown</firstterm> mode. The server will "
"send <systemitem>SIGQUIT</systemitem> to all child processes and wait for "
"them to terminate. If any do not terminate within 5 seconds, they will be "
"sent <systemitem>SIGKILL</systemitem>. The master server process exits as "
"soon as all child processes have exited, without doing normal database "
"shutdown processing. This will lead to recovery (by replaying the WAL log) "
"upon next start-up. This is recommended only in emergencies."
msgstr ""
"Запускает <firstterm>немедленное выключение</firstterm>. Сервер отправляет "
"всем дочерним процессам сигнал <systemitem>SIGQUIT</systemitem> и ждёт их "
"завершения. Если какие-либо из них не завершаются в течение 5 секунд, им "
"посылается <systemitem>SIGKILL</systemitem>. Главный процесс сервера "
"завершается, как только будут завершены все дочерние процессы, не выполняя "
"обычную процедуру остановки БД. В результате при последующем запуске будет "
"запущен процесс восстановления (воспроизведения изменений из журнала). Такой "
"вариант выключения рекомендуется только в экстренных ситуациях."

#: runtime.xml:1506(para)
msgid ""
"There are several ways to shut down the database server. You control the "
"type of shutdown by sending different signals to the master "
"<command>postgres</command> process. <placeholder-1/>"
msgstr ""
"Сервер баз данных можно отключить несколькими способами. Вы выбираете тот "
"или иной вариант отключения, посылая разные сигналы главному процессу "
"<command>postgres</command>. <placeholder-1/>"

#: runtime.xml:1565(para)
msgid ""
"The <xref linkend=\"app-pg-ctl\"/> program provides a convenient interface "
"for sending these signals to shut down the server. Alternatively, you can "
"send the signal directly using <command>kill</command> on non-Windows "
"systems. The <acronym>PID</acronym> of the <command>postgres</command> "
"process can be found using the <command>ps</command> program, or from the "
"file <filename>postmaster.pid</filename> in the data directory. For example, "
"to do a fast shutdown: <screen>\n"
"$ <userinput>kill -INT `head -1 /usr/local/pgsql/data/postmaster.pid`</"
"userinput>\n"
"</screen>"
msgstr ""
"Удобную возможность отправлять эти сигналы, отключающие сервер, "
"предоставляет программа <xref linkend=\"app-pg-ctl\"/>. Кроме того, в "
"системах, отличных от Windows, соответствующий сигнал можно отправить с "
"помощью команды <command>kill</command>. <acronym>PID</acronym> основного "
"процесса <command>postgres</command> можно узнать, воспользовавшись "
"программой <command>ps</command>, либо прочитав файл <filename>postmaster."
"pid</filename> в каталоге данных. Например, можно выполнить быстрое "
"выключение так: <screen>\n"
"$ <userinput>kill -INT `head -1 /usr/local/pgsql/data/postmaster.pid`</"
"userinput>\n"
"</screen>"

#: runtime.xml:1580(para)
msgid ""
"It is best not to use <systemitem>SIGKILL</systemitem> to shut down the "
"server. Doing so will prevent the server from releasing shared memory and "
"semaphores, which might then have to be done manually before a new server "
"can be started. Furthermore, <systemitem>SIGKILL</systemitem> kills the "
"<command>postgres</command> process without letting it relay the signal to "
"its subprocesses, so it will be necessary to kill the individual "
"subprocesses by hand as well."
msgstr ""
"Для выключения сервера не следует использовать сигнал <systemitem>SIGKILL</"
"systemitem>. При таком выключении сервер не сможет освободить разделяемую "
"память и семафоры, и, возможно, это придётся делать вручную, чтобы сервер "
"мог запуститься снова. Кроме того, при уничтожении главного процесса "
"<command>postgres</command> сигналом <systemitem>SIGKILL</systemitem>, он не "
"успеет передать этот сигнал своим дочерним процессам, так что может "
"потребоваться завершать их так же вручную."

#: runtime.xml:1592(para)
msgid ""
"To terminate an individual session while allowing other sessions to "
"continue, use <function>pg_terminate_backend()</function> (see <xref linkend="
"\"functions-admin-signal-table\"/>) or send a <systemitem>SIGTERM</"
"systemitem> signal to the child process associated with the session."
msgstr ""
"Чтобы завершить отдельный сеанс, не прерывая работу других сеансов, "
"воспользуйтесь функцией <function>pg_terminate_backend()</function> (см. "
"<xref remap=\"4\" linkend=\"functions-admin-signal-table\"/>) или отправьте "
"сигнал <systemitem>SIGTERM</systemitem> дочернему процессу, обслуживающему "
"этот сеанс."

#: runtime.xml:1602(title)
msgid "Upgrading a <productname>PostgreSQL</productname> Cluster"
msgstr "Обновление кластера <productname>PostgreSQL</productname>"

#: runtime.xml:1604(indexterm)
msgid "<primary>upgrading</primary>"
msgstr "<primary>обновление</primary>"

#: runtime.xml:1608(indexterm)
msgid "<primary>version</primary> <secondary>compatibility</secondary>"
msgstr "<primary>версия</primary> <secondary>совместимость</secondary>"

#: runtime.xml:1613(para)
msgid ""
"This section discusses how to upgrade your database data from one "
"<productname>PostgreSQL</productname> release to a newer one."
msgstr ""
"В этом разделе рассказывается, как обновить ваш кластер базы данных с одной "
"версии <productname>PostgreSQL</productname> на другую."

#: runtime.xml:1618(para)
msgid ""
"<productname>PostgreSQL</productname> major versions are represented by the "
"first two digit groups of the version number, e.g., 8.4. "
"<productname>PostgreSQL</productname> minor versions are represented by the "
"third group of version digits, e.g., 8.4.2 is the second minor release of "
"8.4. Minor releases never change the internal storage format and are always "
"compatible with earlier and later minor releases of the same major version "
"number, e.g., 8.4.2 is compatible with 8.4, 8.4.1 and 8.4.6. To update "
"between compatible versions, you simply replace the executables while the "
"server is down and restart the server. The data directory remains unchanged "
"&mdash; minor upgrades are that simple."
msgstr ""
"Основные версии <productname>PostgreSQL</productname> представляются первыми "
"двумя группами цифр в полной версии, например, 8.4. Корректирующие выпуски "
"<productname>PostgreSQL</productname> представляются третьей группой цифр, "
"например, 8.4.2 — второй корректирующий выпуск версии 8.4. В корректирующих "
"выпусках никогда не меняется внутренний формат хранения и они всегда "
"совместимы с предыдущими и последующими выпусками той же основной версии, "
"например выпуск 8.4.2 совместим с 8.4, 8.4.1 и 8.4.6. Для обновления версии "
"на совместимую достаточно просто заменить исполняемые файлы при выключенном "
"сервере и затем запустить сервер. Каталог данных при этом не затрагивается, "
"так что обновить корректирующую версию довольно просто."

#: runtime.xml:1632(para)
msgid ""
"For <emphasis>major</emphasis> releases of <productname>PostgreSQL</"
"productname>, the internal data storage format is subject to change, thus "
"complicating upgrades. The traditional method for moving data to a new major "
"version is to dump and reload the database, though this can be slow. A "
"faster method is <xref linkend=\"pgupgrade\"/>. Replication methods are also "
"available, as discussed below."
msgstr ""
"При обновлении <emphasis>основных</emphasis> версий <productname>PostgreSQL</"
"productname> внутренний формат данных может меняться, что усложняет "
"процедуру обновления. Традиционный способ переноса данных в новую основную "
"версию — выгрузить данные из старой версии, а затем загрузить их в новую "
"(это не самый быстрый вариант). Выполнить обновление быстрее позволяет <xref "
"linkend=\"pgupgrade\"/>. Также для обновления можно использовать репликацию, "
"как описано ниже."

#: runtime.xml:1641(para)
msgid ""
"New major versions also typically introduce some user-visible "
"incompatibilities, so application programming changes might be required. All "
"user-visible changes are listed in the release notes (<xref linkend=\"release"
"\"/>); pay particular attention to the section labeled \"Migration\". If you "
"are upgrading across several major versions, be sure to read the release "
"notes for each intervening version."
msgstr ""
"Изменения основной версии обычно приносят какие-либо видимые пользователю "
"несовместимости, которые могут требовать доработки приложений. Все подобные "
"изменения описываются в замечаниях к выпуску (<xref linkend=\"release\"/>); "
"обращайте особое внимание на раздел &laquo;Migration&raquo; (Миграция). Если "
"при обновлении вы пропускаете несколько основных версий, обязательно "
"прочитайте замечания к выпуску, в том числе и для каждой пропускаемой версии."

#: runtime.xml:1651(para)
msgid ""
"Cautious users will want to test their client applications on the new "
"version before switching over fully; therefore, it's often a good idea to "
"set up concurrent installations of old and new versions. When testing a "
"<productname>PostgreSQL</productname> major upgrade, consider the following "
"categories of possible changes:"
msgstr ""
"Осторожные пользователи обычно тестируют свои клиентские приложения с новой "
"версией, прежде чем переходить на неё полностью; поэтому часто имеет смысл "
"установить рядом старую и новую версии. При тестировании обновления основной "
"версии <productname>PostgreSQL</productname> изучите следующие области "
"возможных изменений:"

#: runtime.xml:1662(term)
msgid "Administration"
msgstr "Администрирование"

#: runtime.xml:1664(para)
msgid ""
"The capabilities available for administrators to monitor and control the "
"server often change and improve in each major release."
msgstr ""
"Средства и функции, предоставляемые администраторам для наблюдения и "
"управления сервером, часто меняются и совершенствуются в каждой новой версии."

#: runtime.xml:1672(term)
msgid "SQL"
msgstr "SQL"

#: runtime.xml:1674(para)
msgid ""
"Typically this includes new SQL command capabilities and not changes in "
"behavior, unless specifically mentioned in the release notes."
msgstr ""
"В этой области чаще наблюдается появление новых возможностей команд SQL, чем "
"изменение поведения существующих, если только об этом не говорится в "
"замечаниях к выпуску."

#: runtime.xml:1682(term)
msgid "Library API"
msgstr "API библиотек"

#: runtime.xml:1684(para)
msgid ""
"Typically libraries like <application>libpq</application> only add new "
"functionality, again unless mentioned in the release notes."
msgstr ""
"Обычно библиотеки типа <application>libpq</application> только расширяют "
"свою функциональность, если об обратном так же не говорится в замечаниях к "
"выпуску."

#: runtime.xml:1692(term)
msgid "System Catalogs"
msgstr "Системные каталоги"

#: runtime.xml:1694(para)
msgid "System catalog changes usually only affect database management tools."
msgstr ""
"Изменения в системных каталогах обычно влияют только на средства управления "
"базами данных."

#: runtime.xml:1701(term)
msgid "Server C-language API"
msgstr "API сервера для кода на C"

#: runtime.xml:1703(para)
msgid ""
"This involves changes in the backend function API, which is written in the C "
"programming language. Such changes affect code that references backend "
"functions deep inside the server."
msgstr ""
"Сюда относятся изменения в API серверных функций, которые написаны на языке "
"программирования C. Такие изменения затрагивают код, обращающийся к "
"служебным функциям глубоко внутри сервера."

#: runtime.xml:1714(title)
msgid "Upgrading Data via <application>pg_dumpall</application>"
msgstr "Обновление данных с применением <application>pg_dumpall</application>"

#: runtime.xml:1716(para)
msgid ""
"One upgrade method is to dump data from one major version of "
"<productname>PostgreSQL</productname> and reload it in another &mdash; to do "
"this, you must use a <emphasis>logical</emphasis> backup tool like "
"<application>pg_dumpall</application>; file system level backup methods will "
"not work. (There are checks in place that prevent you from using a data "
"directory with an incompatible version of <productname>PostgreSQL</"
"productname>, so no great harm can be done by trying to start the wrong "
"server version on a data directory.)"
msgstr ""
"Один из вариантов обновления заключается в выгрузке данных из одной основной "
"версии <productname>PostgreSQL</productname> и загрузке их в другую &mdash; "
"для этого необходимо использовать средство <emphasis>логического</emphasis> "
"копирования, например <application>pg_dumpall</application>; копирование на "
"уровне файловой системы не подходит. (В самом сервере есть проверки, которые "
"не дадут использовать каталог данных от несовместимой версии "
"<productname>PostgreSQL</productname>, так что если попытаться запустить с "
"существующим каталогом данных неправильную версию сервера, никакого вреда не "
"будет.)"

#: runtime.xml:1727(para)
msgid ""
"It is recommended that you use the <application>pg_dump</application> and "
"<application>pg_dumpall</application> programs from the <emphasis>newer</"
"emphasis> version of <productname>PostgreSQL</productname>, to take "
"advantage of enhancements that might have been made in these programs. "
"Current releases of the dump programs can read data from any server version "
"back to 7.0."
msgstr ""
"Для создания копии рекомендуется применять программы <application>pg_dump</"
"application> и <application>pg_dumpall</application> от <emphasis>новой</"
"emphasis> версии <productname>PostgreSQL</productname>, чтобы "
"воспользоваться улучшенными функциями, которые могли в них появиться. "
"Текущие версии этих программ способны читать данные любой версии сервера, "
"начиная с 7.0."

#: runtime.xml:1736(para)
msgid ""
"These instructions assume that your existing installation is under the "
"<filename>/usr/local/pgsql</filename> directory, and that the data area is "
"in <filename>/usr/local/pgsql/data</filename>. Substitute your paths "
"appropriately."
msgstr ""
"В следующих указаниях предполагается, что сервер установлен в каталоге "
"<filename>/usr/local/pgsql</filename>, а данные находятся в <filename>/usr/"
"local/pgsql/data</filename>. Вам нужно подставить свои пути."

#: runtime.xml:1745(para)
msgid ""
"If making a backup, make sure that your database is not being updated. This "
"does not affect the integrity of the backup, but the changed data would of "
"course not be included. If necessary, edit the permissions in the file "
"<filename>/usr/local/pgsql/data/pg_hba.conf</filename> (or equivalent) to "
"disallow access from everyone except you. See <xref linkend=\"client-"
"authentication\"/> for additional information on access control."
msgstr ""
"При запуске резервного копирования убедитесь в том, что в базе данных не "
"производятся изменения. Изменения не повлияют на целостность полученной "
"копии, но изменённые данные, само собой, в неё не попадут. Если потребуется, "
"измените разрешения в файле <filename>/usr/local/pgsql/data/pg_hba.conf</"
"filename> (или подобном), чтобы подключиться к серверу могли только вы. За "
"дополнительными сведениями об управлении доступом обратитесь к <xref remap="
"\"3\" linkend=\"client-authentication\"/>."

#: runtime.xml:1756(indexterm)
msgid "<primary>pg_dumpall</primary> <secondary>use during upgrade</secondary>"
msgstr ""
"<primary>pg_dumpall</primary> <secondary>использование при обновлении</"
"secondary>"

#: runtime.xml:1755(para)
msgid ""
"<placeholder-1/> To back up your database installation, type: <screen>\n"
"<userinput>pg_dumpall &gt; <replaceable>outputfile</replaceable></"
"userinput>\n"
"</screen>"
msgstr ""
"<placeholder-1/> Чтобы получить копию всех ваших данных, введите: <screen>\n"
"<userinput>pg_dumpall &gt; <replaceable>выходной_файл</replaceable></"
"userinput>\n"
"</screen>"

#: runtime.xml:1767(para)
msgid ""
"To make the backup, you can use the <application>pg_dumpall</application> "
"command from the version you are currently running; see <xref linkend="
"\"backup-dump-all\"/> for more details. For best results, however, try to "
"use the <application>pg_dumpall</application> command from "
"<productname>PostgreSQL</productname> &version;, since this version contains "
"bug fixes and improvements over older versions. While this advice might seem "
"idiosyncratic since you haven't installed the new version yet, it is "
"advisable to follow it if you plan to install the new version in parallel "
"with the old version. In that case you can complete the installation "
"normally and transfer the data later. This will also decrease the downtime."
msgstr ""
"Для создания резервной копии вы можете воспользоваться программой "
"<application>pg_dumpall</application> от текущей версии сервера; за "
"подробностями обратитесь к <xref remap=\"3\" linkend=\"backup-dump-all\"/>. "
"Однако для лучшего результата стоит попробовать <application>pg_dumpall</"
"application> из <productname>PostgreSQL</productname> &version;, так как в "
"эту версию вошли исправления ошибок и усовершенствования, по сравнению с "
"предыдущими версиями. Хотя этот совет может показаться абсурдным, ведь новая "
"версия ещё не установлена, ему стоит последовать, если вы планируете "
"установить новую версию рядом со старой. В этом случае вы сможете выполнить "
"установку как обычно, а перенести данные позже. Это также сократит время "
"обновления."

#: runtime.xml:1784(para)
msgid ""
"Shut down the old server: <screen>\n"
"<userinput>pg_ctl stop</userinput>\n"
"</screen> On systems that have <productname>PostgreSQL</productname> started "
"at boot time, there is probably a start-up file that will accomplish the "
"same thing. For example, on a <systemitem class=\"osname\">Red Hat Linux</"
"systemitem> system one might find that this works: <screen>\n"
"<userinput>/etc/rc.d/init.d/postgresql stop</userinput>\n"
"</screen> See <xref linkend=\"runtime\"/> for details about starting and "
"stopping the server."
msgstr ""
"Остановите старый сервер: <screen>\n"
"<userinput>pg_ctl stop</userinput>\n"
"</screen> В системах, где <productname>PostgreSQL</productname> запускается "
"при загрузке, должен быть скрипт запуска, с которым можно сделать то же "
"самое. Например, в <systemitem class=\"osname\">Red Hat Linux</systemitem> "
"может сработать такой вариант: <screen>\n"
"<userinput>/etc/rc.d/init.d/postgresql stop</userinput>\n"
"</screen> Подробнее запуск и остановка сервера описаны в <xref remap=\"6\" "
"linkend=\"runtime\"/>."

#: runtime.xml:1802(para)
msgid ""
"If restoring from backup, rename or delete the old installation directory if "
"it is not version-specific. It is a good idea to rename the directory, "
"rather than delete it, in case you have trouble and need to revert to it. "
"Keep in mind the directory might consume significant disk space. To rename "
"the directory, use a command like this: <screen>\n"
"<userinput>mv /usr/local/pgsql /usr/local/pgsql.old</userinput>\n"
"</screen> (Be sure to move the directory as a single unit so relative paths "
"remain unchanged.)"
msgstr ""
"При восстановлении из резервной копии удалите или переименуйте старый "
"каталог, где был установлен сервер, если его имя не привязано к версии. "
"Разумнее будет переименовать каталог, а не удалять его, чтобы его можно было "
"восстановить в случае проблем. Однако учтите, что этот каталог может "
"занимать много места на диске. Переименовать каталог можно, например так: "
"<screen>\n"
"<userinput>mv /usr/local/pgsql /usr/local/pgsql.old</userinput>\n"
"</screen> (Этот каталог нужно переименовывать (перемещать) как единое целое, "
"чтобы относительные пути в нём не изменились.)"

#: runtime.xml:1818(para)
msgid ""
"Install the new version of <productname>PostgreSQL</productname> as outlined "
"in <phrase condition=\"standalone\">the next section.</phrase> <phrase "
"condition=\"default\"><xref linkend=\"install-procedure\"/>.</phrase>"
msgstr ""
"Установите новую версию <productname>PostgreSQL</productname> как описано в "
"<phrase condition=\"standalone\">следующем разделе.</phrase> <phrase "
"condition=\"default\"><xref remap=\"6\" linkend=\"install-procedure\"/>.</"
"phrase>"

#: runtime.xml:1831(userinput)
#, no-wrap
msgid "/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data"
msgstr "/usr/local/pgsql/bin/initdb -D /usr/local/pgsql/data"

#: runtime.xml:1826(para)
msgid ""
"Create a new database cluster if needed. Remember that you must execute "
"these commands while logged in to the special database user account (which "
"you already have if you are upgrading). <placeholder-1/>"
msgstr ""
"При необходимости создайте новый кластер баз данных. Помните, что следующие "
"команды нужно выполнять под именем специального пользователя БД (вы уже "
"действуете под этим именем, если производите обновление). <placeholder-1/>"

#: runtime.xml:1837(para)
msgid ""
"Restore your previous <filename>pg_hba.conf</filename> and any "
"<filename>postgresql.conf</filename> modifications."
msgstr ""
"Перенесите изменения, внесённые в предыдущие версии <filename>pg_hba.conf</"
"filename> и <filename>postgresql.conf</filename>."

#: runtime.xml:1848(userinput)
#, no-wrap
msgid "/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data"
msgstr "/usr/local/pgsql/bin/postgres -D /usr/local/pgsql/data"

#: runtime.xml:1844(para)
msgid ""
"Start the database server, again using the special database user account: "
"<placeholder-1/>"
msgstr ""
"Запустите сервер баз данных, так же применяя учётную запись специального "
"пользователя БД: <placeholder-1/>"

#: runtime.xml:1854(para)
msgid ""
"Finally, restore your data from backup with: <screen>\n"
"<userinput>/usr/local/pgsql/bin/psql -d postgres -f <replaceable>outputfile</"
"replaceable></userinput>\n"
"</screen> using the <emphasis>new</emphasis> <application>psql</application>."
msgstr ""
"Наконец, восстановите данные из резервной копии, выполнив: <screen>\n"
"<userinput>/usr/local/pgsql/bin/psql -d postgres -f "
"<replaceable>выходной_файл</replaceable></userinput>\n"
"</screen> (При этом будет использоваться <emphasis>новый</emphasis> "
"<application>psql</application>.)"

#: runtime.xml:1869(programlisting)
#, no-wrap
msgid "pg_dumpall -p 5432 | psql -d postgres -p 5433"
msgstr "pg_dumpall -p 5432 | psql -d postgres -p 5433"

#: runtime.xml:1864(para)
msgid ""
"The least downtime can be achieved by installing the new server in a "
"different directory and running both the old and the new servers in "
"parallel, on different ports. Then you can use something like: "
"<placeholder-1/> to transfer your data."
msgstr ""
"Минимизировать время отключения сервера можно, установив новый сервер в "
"другой каталог и запустив параллельно оба сервера, старый и новый, с разными "
"портами. Затем можно будет перенести данные примерно так: <placeholder-1/>"

#: runtime.xml:1878(title)
msgid "Upgrading Data via <application>pg_upgrade</application>"
msgstr "Обновление данных с применением <application>pg_upgrade</application>"

#: runtime.xml:1880(para)
msgid ""
"The <xref linkend=\"pgupgrade\"/> module allows an installation to be "
"migrated in-place from one major <productname>PostgreSQL</productname> "
"version to another. Upgrades can be performed in minutes, particularly with "
"<option>--link</option> mode. It requires steps similar to "
"<application>pg_dumpall</application> above, e.g. starting/stopping the "
"server, running <application>initdb</application>. The "
"<application>pg_upgrade</application> <link linkend=\"pgupgrade"
"\">documentation</link> outlines the necessary steps."
msgstr ""
"Модуль <xref linkend=\"pgupgrade\"/> позволяет обновить инсталляцию "
"<productname>PostgreSQL</productname> с одной основной версии на другую "
"непосредственно на месте. Такое обновление может выполняться за считанные "
"минуты, особенно в режиме <option>--link</option>. Для него требуются "
"примерно те же подготовительные действия, что и для варианта с "
"<application>pg_dumpall</application>: запустить/остановить сервер, "
"выполнить <application>initdb</application>. Все эти действия описаны в "
"<link linkend=\"pgupgrade\">документации</link> <application>pg_upgrade</"
"application>."

#: runtime.xml:1893(title)
msgid "Upgrading Data via Replication"
msgstr "Обновление данных с применением репликации"

#: runtime.xml:1895(para)
msgid ""
"It is also possible to use certain replication methods, such as "
"<productname>Slony</productname>, to create a standby server with the "
"updated version of <productname>PostgreSQL</productname>. This is possible "
"because Slony supports replication between different major versions of "
"<productname>PostgreSQL</productname>. The standby can be on the same "
"computer or a different computer. Once it has synced up with the master "
"server (running the older version of <productname>PostgreSQL</productname>), "
"you can switch masters and make the standby the master and shut down the "
"older database instance. Such a switch-over results in only several seconds "
"of downtime for an upgrade."
msgstr ""
"Также можно использовать некоторые методы репликации, например "
"<productname>Slony</productname>, для создания резервного сервера с "
"обновлённой версией <productname>PostgreSQL</productname>. Это возможно "
"благодаря тому, что Slony поддерживает репликацию между разными основными "
"версиями <productname>PostgreSQL</productname>. Резервный сервер может "
"располагаться как на том же компьютере, так и на другом. Как только "
"синхронизация с главным сервером (где работает старая версия "
"<productname>PostgreSQL</productname>) будет завершена, можно сделать "
"главным новый сервер, а старый экземпляр базы данных просто отключить. При "
"таком переключении обновление можно осуществить, прервав работу сервера "
"всего на несколько секунд."

#: runtime.xml:1912(title)
msgid "Preventing Server Spoofing"
msgstr "Защита от подмены сервера"

#: runtime.xml:1914(indexterm)
msgid "<primary>server spoofing</primary>"
msgstr "<primary>подмена сервера</primary>"

#: runtime.xml:1918(para)
msgid ""
"While the server is running, it is not possible for a malicious user to take "
"the place of the normal database server. However, when the server is down, "
"it is possible for a local user to spoof the normal server by starting their "
"own server. The spoof server could read passwords and queries sent by "
"clients, but could not return any data because the <varname>PGDATA</varname> "
"directory would still be secure because of directory permissions. Spoofing "
"is possible because any user can start a database server; a client cannot "
"identify an invalid server unless it is specially configured."
msgstr ""
"Когда сервер работает, злонамеренный пользователь не может подставить свой "
"сервер вместо него. Однако, если сервер отключён, локальный пользователь "
"может подменить нормальный сервер, запустив свой собственный. Поддельный "
"сервер сможет читать пароли и запросы клиентов, хотя не сможет вернуть "
"никакие данные, так как каталог <varname>PGDATA</varname> будет защищён от "
"чтения посторонними пользователями. Такая подмена возможна потому, что любой "
"пользователь может запустить сервер баз данных; клиент, со своей стороны, не "
"может обнаружить подмену, если его не настроить дополнительно."

#: runtime.xml:1930(para)
msgid ""
"One way to prevent spoofing of <literal>local</literal> connections is to "
"use a Unix domain socket directory (<xref linkend=\"guc-unix-socket-"
"directories\"/>) that has write permission only for a trusted local user. "
"This prevents a malicious user from creating their own socket file in that "
"directory. If you are concerned that some applications might still reference "
"<filename>/tmp</filename> for the socket file and hence be vulnerable to "
"spoofing, during operating system startup create a symbolic link <filename>/"
"tmp/.s.PGSQL.5432</filename> that points to the relocated socket file. You "
"also might need to modify your <filename>/tmp</filename> cleanup script to "
"prevent removal of the symbolic link."
msgstr ""
"Один из способов предотвратить подмену для <literal>локальных</literal> "
"подключений — использовать каталог доменных сокетов Unix (<xref linkend="
"\"guc-unix-socket-directories\"/>), в который сможет писать только "
"проверенный локальный пользователь. Это не позволит злонамеренному "
"пользователю создать в этом каталоге свой файл сокета. Если вас беспокоит, "
"что некоторые приложения при этом могут обращаться к файлу сокета в "
"<filename>/tmp</filename> и, таким образом, всё же будут уязвимыми, создайте "
"при загрузке операционной системы символическую ссылку <filename>/tmp/.s."
"PGSQL.5432</filename>, указывающую на перемещённый файл сокета. Возможно, "
"вам также придётся изменить скрипт очистки <filename>/tmp</filename>, чтобы "
"он не удалял эту ссылку."

#: runtime.xml:1943(para)
msgid ""
"Another option for <literal>local</literal> connections is for clients to "
"use <link linkend=\"libpq-connect-requirepeer\"><literal>requirepeer</"
"literal></link> to specify the required owner of the server process "
"connected to the socket."
msgstr ""
"Также клиенты могут защитить <literal>локальные</literal> подключения, "
"установив в параметре <link linkend=\"libpq-connect-requirepeer"
"\"><literal>requirepeer</literal></link> имя пользователя, который должен "
"владеть серверным процессом, подключённым к сокету."

#: runtime.xml:1950(para)
msgid ""
"To prevent spoofing on TCP connections, the best solution is to use SSL "
"certificates and make sure that clients check the server's certificate. To "
"do that, the server must be configured to accept only <literal>hostssl</"
"literal> connections (<xref linkend=\"auth-pg-hba-conf\"/>) and have SSL key "
"and certificate files (<xref linkend=\"ssl-tcp\"/>). The TCP client must "
"connect using <literal>sslmode=verify-ca</literal> or <literal>verify-full</"
"literal> and have the appropriate root certificate file installed (<xref "
"linkend=\"libq-ssl-certificates\"/>)."
msgstr ""
"Лучший способ защиты от подмены для соединений TCP — использовать "
"сертификаты SSL и добиться, чтобы клиенты проверяли сертификат сервера. Для "
"этого надо настроить сервер, чтобы он принимал только подключения "
"<literal>hostssl</literal> (см. <xref remap=\"4\" linkend=\"auth-pg-hba-conf"
"\"/>) и имел ключ и сертификаты SSL (см. <xref remap=\"4\" linkend=\"ssl-tcp"
"\"/>). Тогда TCP-клиент должен будет подключаться к серверу с параметром "
"<literal>sslmode=verify-ca</literal> или <literal>verify-full</literal> и у "
"него должен быть установлен соответствующий корневой сертификат (см. <xref "
"remap=\"4\" linkend=\"libq-ssl-certificates\"/>)."

#: runtime.xml:1964(title)
msgid "Encryption Options"
msgstr "Возможности шифрования"

#: runtime.xml:1966(indexterm)
msgid "<primary>encryption</primary>"
msgstr "<primary>шифрование</primary>"

#: runtime.xml:1970(para)
msgid ""
"<productname>PostgreSQL</productname> offers encryption at several levels, "
"and provides flexibility in protecting data from disclosure due to database "
"server theft, unscrupulous administrators, and insecure networks. Encryption "
"might also be required to secure sensitive data such as medical records or "
"financial transactions."
msgstr ""
"<productname>PostgreSQL</productname> обеспечивает шифрование на разных "
"уровнях и даёт гибкость в выборе средств защиты данных в случае кражи "
"сервера, от недобросовестных администраторов или в небезопасных сетях. "
"Шифрование может также требоваться для защиты конфиденциальных данных, "
"например, медицинских сведений или финансовых транзакций."

#: runtime.xml:1981(term)
msgid "Password Storage Encryption"
msgstr "Шифрование хранимых паролей"

#: runtime.xml:1984(para)
msgid ""
"By default, database user passwords are stored as MD5 hashes, so the "
"administrator cannot determine the actual password assigned to the user. If "
"MD5 encryption is used for client authentication, the unencrypted password "
"is never even temporarily present on the server because the client MD5-"
"encrypts it before being sent across the network."
msgstr ""
"По умолчанию, пароли пользователей базы данных хранятся в виде хешей MD5, "
"так что даже администратор не может определить, какой именно пароль имеет "
"пользователь. Если шифрование MD5 также применяется при проверке "
"подлинности, пароли не присутствуют на сервере в открытом виде даже "
"кратковременно, так как клиент вычисляет и передаёт по сети только хеши "
"паролей."

#: runtime.xml:1996(term)
msgid "Encryption For Specific Columns"
msgstr "Шифрование избранных столбцов"

#: runtime.xml:1999(para)
msgid ""
"The <xref linkend=\"pgcrypto\"/> module allows certain fields to be stored "
"encrypted. This is useful if only some of the data is sensitive. The client "
"supplies the decryption key and the data is decrypted on the server and then "
"sent to the client."
msgstr ""
"Модуль <xref linkend=\"pgcrypto\"/> позволяет хранить в зашифрованном виде "
"избранные поля. Это полезно, если ценность представляют только некоторые "
"данные. Чтобы прочитать эти поля, клиент передаёт дешифрующий ключ, сервер "
"расшифровывает данные и выдаёт их клиенту."

#: runtime.xml:2007(para)
msgid ""
"The decrypted data and the decryption key are present on the server for a "
"brief time while it is being decrypted and communicated between the client "
"and server. This presents a brief moment where the data and keys can be "
"intercepted by someone with complete access to the database server, such as "
"the system administrator."
msgstr ""
"Расшифрованные данные и ключ дешифрования находятся на сервере в процессе "
"расшифровывания и передачи данных. Именно в этот момент данные и ключи могут "
"быть перехвачены тем, кто имеет полный доступ к серверу баз данных, "
"например, системным администратором."

#: runtime.xml:2019(term)
msgid "Data Partition Encryption"
msgstr "Шифрование раздела данных"

#: runtime.xml:2022(para)
msgid ""
"Storage encryption can be performed at the file system level or the block "
"level. Linux file system encryption options include eCryptfs and EncFS, "
"while FreeBSD uses PEFS. Block level or full disk encryption options include "
"dm-crypt + LUKS on Linux and GEOM modules geli and gbde on FreeBSD. Many "
"other operating systems support this functionality, including Windows."
msgstr ""
"Шифрование хранилища данных можно реализовать на уровне файловой системы или "
"на уровне блоков. В Linux можно воспользоваться шифрованными файловыми "
"системами eCryptfs и EncFS, а во FreeBSD есть PEFS. Шифрование всего диска "
"на блочном уровне в Linux можно организовать, используя dm-crypt + LUKS, а "
"во FreeBSD — модули GEOM, geli и gbde. Подобные возможности есть и во многих "
"других операционных системах, включая Windows."

#: runtime.xml:2031(para)
msgid ""
"This mechanism prevents unencrypted data from being read from the drives if "
"the drives or the entire computer is stolen. This does not protect against "
"attacks while the file system is mounted, because when mounted, the "
"operating system provides an unencrypted view of the data. However, to mount "
"the file system, you need some way for the encryption key to be passed to "
"the operating system, and sometimes the key is stored somewhere on the host "
"that mounts the disk."
msgstr ""
"Этот механизм не позволяет читать незашифрованные данные с дисков в случае "
"кражи дисков или всего компьютера. При этом он не защищает данные от чтения, "
"когда эта файловая система смонтирована, так как на смонтированном "
"устройстве операционная система видит все данные в незашифрованном виде. "
"Однако, чтобы смонтировать файловую систему, нужно передать операционной "
"системе ключ (иногда он хранится где-то на компьютере, который выполняет "
"монтирование)."

#: runtime.xml:2045(term)
msgid "Encrypting Passwords Across A Network"
msgstr "Шифрование паролей при передаче по сети"

#: runtime.xml:2048(para)
msgid ""
"The <literal>MD5</literal> authentication method double-encrypts the "
"password on the client before sending it to the server. It first MD5-"
"encrypts it based on the user name, and then encrypts it based on a random "
"salt sent by the server when the database connection was made. It is this "
"double-encrypted value that is sent over the network to the server. Double-"
"encryption not only prevents the password from being discovered, it also "
"prevents another connection from using the same encrypted password to "
"connect to the database server at a later time."
msgstr ""
"Метод проверки подлинности с <literal>MD5</literal> дважды шифрует пароль на "
"стороне клиента, прежде чем передать его серверу. Сначала вычисляется хеш "
"MD5 пароля вместе с именем пользователя, а затем этот хеш обрабатывается ещё "
"раз с добавлением случайного числа, переданного сервером при попытке "
"подключиться к нему. Затем это дважды хешированное значение передаётся "
"серверу по сети. Двойное хеширование не только позволяет защититься от "
"вычисления исходного пароля, но и не даёт использовать тот же зашифрованный "
"пароль при следующем подключении."

#: runtime.xml:2063(term)
msgid "Encrypting Data Across A Network"
msgstr "Шифрование данных при передаче по сети"

#: runtime.xml:2066(para)
msgid ""
"SSL connections encrypt all data sent across the network: the password, the "
"queries, and the data returned. The <filename>pg_hba.conf</filename> file "
"allows administrators to specify which hosts can use non-encrypted "
"connections (<literal>host</literal>) and which require SSL-encrypted "
"connections (<literal>hostssl</literal>). Also, clients can specify that "
"they connect to servers only via SSL. <application>Stunnel</application> or "
"<application>SSH</application> can also be used to encrypt transmissions."
msgstr ""
"SSL-соединения шифруют все данные, передаваемые по сети: пароль, запросы и "
"возвращаемые данные. Файл <filename>pg_hba.conf</filename> позволяет "
"администраторам указать, для каких узлов будут разрешены незашифрованные "
"соединения (<literal>host</literal>), а для каких будет требоваться SSL "
"(<literal>hostssl</literal>). Кроме того, и на стороне клиента можно "
"разрешить подключения к серверам только с SSL. Для шифрования трафика также "
"можно применять <application>stunnel</application> и <application>SSH</"
"application>."

#: runtime.xml:2080(term)
msgid "SSL Host Authentication"
msgstr "Проверка подлинности сервера SSL"

#: runtime.xml:2083(para)
msgid ""
"It is possible for both the client and server to provide SSL certificates to "
"each other. It takes some extra configuration on each side, but this "
"provides stronger verification of identity than the mere use of passwords. "
"It prevents a computer from pretending to be the server just long enough to "
"read the password sent by the client. It also helps prevent <quote>man in "
"the middle</quote> attacks where a computer between the client and server "
"pretends to be the server and reads and passes all data between the client "
"and server."
msgstr ""
"И клиент, и сервер могут проверять подлинность друг друга по сертификатам "
"SSL. Это требует дополнительной настройки на каждой стороне, но даёт более "
"надёжную гарантию подлинности, чем обычные пароли. С такой защитой "
"подставной компьютер не сможет представлять из себя сервер с целью получить "
"пароли клиентов. Она также предотвращает атаки с посредником (<quote>man in "
"the middle</quote>), когда компьютер между клиентом и сервером "
"представляется сервером и незаметно передаёт все запросы и данные между "
"клиентом и подлинным сервером."

#: runtime.xml:2098(term)
msgid "Client-Side Encryption"
msgstr "Шифрование на стороне клиента"

#: runtime.xml:2101(para)
msgid ""
"If the system administrator for the server's machine cannot be trusted, it "
"is necessary for the client to encrypt the data; this way, unencrypted data "
"never appears on the database server. Data is encrypted on the client before "
"being sent to the server, and database results have to be decrypted on the "
"client before being used."
msgstr ""
"Если системный администратор сервера, где работает база данных, не является "
"доверенным, клиент должен сам шифровать данные; тогда незашифрованные данные "
"никогда не появятся на этом сервере. В этом случае клиент шифрует данные, "
"прежде чем передавать их серверу, а получив из базы данных результаты, он "
"расшифровывает их для использования."

#: runtime.xml:2117(title)
msgid "Secure TCP/IP Connections with SSL"
msgstr "Защита соединений TCP/IP с применением SSL"

#: runtime.xml:2119(indexterm)
msgid "<primary>SSL</primary>"
msgstr "<primary>SSL</primary>"

#: runtime.xml:2123(para)
msgid ""
"<productname>PostgreSQL</productname> has native support for using "
"<acronym>SSL</acronym> connections to encrypt client/server communications "
"for increased security. This requires that <productname>OpenSSL</"
"productname> is installed on both client and server systems and that support "
"in <productname>PostgreSQL</productname> is enabled at build time (see <xref "
"linkend=\"installation\"/>)."
msgstr ""
"В <productname>PostgreSQL</productname> встроена поддержка <acronym>SSL</"
"acronym> для шифрования трафика между клиентом и сервером, что повышает "
"уровень безопасности системы. Для использования этой возможности необходимо, "
"чтобы и на сервере, и на клиенте был установлен <productname>OpenSSL</"
"productname>, и поддержка <acronym>SSL</acronym> была разрешена в "
"<productname>PostgreSQL</productname> при сборке (см. <xref remap=\"4\" "
"linkend=\"installation\"/>)."

#: runtime.xml:2132(para)
msgid ""
"With <acronym>SSL</acronym> support compiled in, the "
"<productname>PostgreSQL</productname> server can be started with "
"<acronym>SSL</acronym> enabled by setting the parameter <xref linkend=\"guc-"
"ssl\"/> to <literal>on</literal> in <filename>postgresql.conf</filename>. "
"The server will listen for both normal and <acronym>SSL</acronym> "
"connections on the same TCP port, and will negotiate with any connecting "
"client on whether to use <acronym>SSL</acronym>. By default, this is at the "
"client's option; see <xref linkend=\"auth-pg-hba-conf\"/> about how to set "
"up the server to require use of <acronym>SSL</acronym> for some or all "
"connections."
msgstr ""
"Когда в установленном сервере <productname>PostgreSQL</productname> "
"разрешена поддержка <acronym>SSL</acronym>, его можно запустить с включённым "
"механизмом <acronym>SSL</acronym>, задав в <filename>postgresql.conf</"
"filename> для параметра <xref linkend=\"guc-ssl\"/> значение <literal>on</"
"literal>. Запущенный сервер будет принимать, как обычные, так и "
"<acronym>SSL</acronym>-подключения в одном порту TCP и будет согласовывать "
"использование <acronym>SSL</acronym> с каждым клиентом. По умолчанию клиент "
"выбирает режим подключения сам; как настроить сервер, чтобы он требовал "
"использовать только <acronym>SSL</acronym> для всех или некоторых "
"подключений, вы можете узнать в <xref remap=\"6\" linkend=\"auth-pg-hba-conf"
"\"/>."

#: runtime.xml:2145(para)
msgid ""
"<productname>PostgreSQL</productname> reads the system-wide "
"<productname>OpenSSL</productname> configuration file. By default, this file "
"is named <filename>openssl.cnf</filename> and is located in the directory "
"reported by <literal>openssl version -d</literal>. This default can be "
"overridden by setting environment variable <envar>OPENSSL_CONF</envar> to "
"the name of the desired configuration file."
msgstr ""
"<productname>PostgreSQL</productname> читает системный файл конфигурации "
"<productname>OpenSSL</productname>. По умолчанию этот файл называется "
"<filename>openssl.cnf</filename> и находится в каталоге, который сообщает "
"команда <literal>openssl version -d</literal>. Если требуется указать другое "
"расположение файла конфигурации, его можно задать в переменной окружения "
"<envar>OPENSSL_CONF</envar>."

#: runtime.xml:2154(para)
msgid ""
"<productname>OpenSSL</productname> supports a wide range of ciphers and "
"authentication algorithms, of varying strength. While a list of ciphers can "
"be specified in the <productname>OpenSSL</productname> configuration file, "
"you can specify ciphers specifically for use by the database server by "
"modifying <xref linkend=\"guc-ssl-ciphers\"/> in <filename>postgresql.conf</"
"filename>."
msgstr ""
"<productname>OpenSSL</productname> предоставляет широкий выбор шифров и "
"алгоритмов аутентификации разной защищённости. Хотя список шифров может быть "
"задан непосредственно в файле конфигурации <productname>OpenSSL</"
"productname>, можно задать отдельные шифры именно для сервера баз данных, "
"указав их в параметре <xref linkend=\"guc-ssl-ciphers\"/> в "
"<filename>postgresql.conf</filename>."

#: runtime.xml:2164(para)
msgid ""
"It is possible to have authentication without encryption overhead by using "
"<literal>NULL-SHA</literal> or <literal>NULL-MD5</literal> ciphers. However, "
"a man-in-the-middle could read and pass communications between client and "
"server. Also, encryption overhead is minimal compared to the overhead of "
"authentication. For these reasons NULL ciphers are not recommended."
msgstr ""
"Накладные расходы, связанные с шифрованием, в принципе можно исключить, "
"ограничившись только проверкой подлинности, то есть применяя шифр "
"<literal>NULL-SHA</literal> или <literal>NULL-MD5</literal>. Однако в этом "
"случае посредник сможет пропускать через себя и читать весь трафик между "
"клиентом и сервером. Кроме того, шифрование привносит минимальную "
"дополнительную нагрузку по сравнению с проверкой подлинности. По этим "
"причинам использовать шифры NULL не рекомендуется."

#: runtime.xml:2174(para)
msgid ""
"To start in <acronym>SSL</acronym> mode, files containing the server "
"certificate and private key must exist. By default, these files are expected "
"to be named <filename>server.crt</filename> and <filename>server.key</"
"filename>, respectively, in the server's data directory, but other names and "
"locations can be specified using the configuration parameters <xref linkend="
"\"guc-ssl-cert-file\"/> and <xref linkend=\"guc-ssl-key-file\"/>."
msgstr ""
"Чтобы сервер мог работать в режиме <acronym>SSL</acronym>, ему необходимы "
"файлы с сертификатом сервера и закрытым ключом. По умолчанию это должны быть "
"файлы <filename>server.crt</filename> и <filename>server.key</filename>, "
"соответственно, расположенные в каталоге данных, но можно использовать и "
"другие имена и местоположения файлов, задав их в конфигурационных параметрах "
"<xref linkend=\"guc-ssl-cert-file\"/> и <xref linkend=\"guc-ssl-key-file\"/>."

#: runtime.xml:2183(para)
msgid ""
"On Unix systems, the permissions on <filename>server.key</filename> must "
"disallow any access to world or group; achieve this by the command "
"<command>chmod 0600 server.key</command>. Alternatively, the file can be "
"owned by root and have group read access (that is, <literal>0640</literal> "
"permissions). That setup is intended for installations where certificate and "
"key files are managed by the operating system. The user under which the "
"<productname>PostgreSQL</productname> server runs should then be made a "
"member of the group that has access to those certificate and key files."
msgstr ""
"В Unix-подобных системах к файлу <filename>server.key</filename> должен быть "
"запрещён любой доступ группы и всех остальных; чтобы установить такое "
"ограничение, выполните <command>chmod 0600 server.key</command>. Возможен и "
"другой вариант, когда этим файлом владеет root, а группа имеет доступ на "
"чтение (то есть, маска разрешений <literal>0640</literal>). Данный вариант "
"предназначен для систем, в которых файлами сертификатов и ключей управляет "
"сама операционная система. В этом случае пользователь, запускающий сервер "
"<productname>PostgreSQL</productname>, должен быть членом группы, имеющей "
"доступ к указанным файлам сертификата и ключа."

#: runtime.xml:2194(para)
msgid ""
"If the private key is protected with a passphrase, the server will prompt "
"for the passphrase and will not start until it has been entered."
msgstr ""
"Если закрытый ключ защищён паролем, сервер запросит пароль и не запустится, "
"пока этот пароль не будет введён."

#: runtime.xml:2200(para)
msgid ""
"In some cases, the server certificate might be signed by an "
"<quote>intermediate</quote> certificate authority, rather than one that is "
"directly trusted by clients. To use such a certificate, append the "
"certificate of the signing authority to the <filename>server.crt</filename> "
"file, then its parent authority's certificate, and so on up to a certificate "
"authority, <quote>root</quote> or <quote>intermediate</quote>, that is "
"trusted by clients, i.e. signed by a certificate in the clients' "
"<filename>root.crt</filename> files."
msgstr ""
"В некоторых случаях сертификат сервера может подписываться "
"<quote>промежуточным</quote> центром сертификации, сам этот сертификат не "
"обязательно должен быть доверенным для клиентов. Чтобы использовать такой "
"сертификат, нужно добавить к файлу <filename>server.crt</filename> "
"сертификат выдавшего его центра сертификации, затем сертификат вышестоящего "
"центра и так далее, до сертификата <quote>корневого</quote> или "
"<quote>промежуточного</quote> центра, которому доверяют клиенты. Клиенты "
"считают сертификат доверенным, если он подписан сертификатом, содержащимся в "
"их собственном файле <filename>root.crt</filename>."

#: runtime.xml:2212(title)
msgid "Using Client Certificates"
msgstr "Использование клиентских сертификатов"

#: runtime.xml:2214(para)
msgid ""
"To require the client to supply a trusted certificate, place certificates of "
"the certificate authorities (<acronym>CA</acronym>s) you trust in the file "
"<filename>root.crt</filename> in the data directory, set the parameter <xref "
"linkend=\"guc-ssl-ca-file\"/> in <filename>postgresql.conf</filename> to "
"<literal>root.crt</literal>, and add the authentication option "
"<literal>clientcert=1</literal> to the appropriate <literal>hostssl</"
"literal> line(s) in <filename>pg_hba.conf</filename>. A certificate will "
"then be requested from the client during SSL connection startup. (See <xref "
"linkend=\"libpq-ssl\"/> for a description of how to set up certificates on "
"the client.) The server will verify that the client's certificate is signed "
"by one of the trusted certificate authorities."
msgstr ""
"Чтобы клиенты должны были предоставлять серверу доверенные сертификаты, "
"поместите сертификаты центров сертификации (<acronym>ЦС</acronym>), которым "
"вы доверяете, в файл <filename>root.crt</filename> в каталоге данных, "
"укажите в параметре <xref linkend=\"guc-ssl-ca-file\"/> в "
"<filename>postgresql.conf</filename> имя файла <literal>root.crt</literal> и "
"добавьте параметр аутентификации <literal>clientcert=1</literal> в "
"соответствующие строки <literal>hostssl</literal> в <filename>pg_hba.conf</"
"filename>. В результате от клиента в процессе установления SSL-подключения "
"будет затребован сертификат. (Как настроить сертификаты на стороне клиента, "
"описывается в <xref remap=\"6\" linkend=\"libpq-ssl\"/>.) Получив "
"сертификат, сервер будет проверять, был ли этот сертификат подписан одним из "
"доверенным центром сертификации."

#: runtime.xml:2229(para)
msgid ""
"If intermediate <acronym>CA</acronym>s appear in <filename>root.crt</"
"filename>, the file must also contain certificate chains to their root "
"<acronym>CA</acronym>s. Certificate Revocation List (CRL) entries are also "
"checked if the parameter <xref linkend=\"guc-ssl-crl-file\"/> is set. (See "
"<ulink url=\"http://h71000.www7.hp.com/doc/83final/ba554_90007/ch04s02.html"
"\"/> for diagrams showing SSL certificate usage.)"
msgstr ""
"Если в <filename>root.crt</filename> вносятся промежуточные <acronym>ЦС</"
"acronym>, в этом файле также должны содержаться цепочки сертификатов до их "
"корневых <acronym>ЦС</acronym>. Если установлен параметр <xref linkend=\"guc-"
"ssl-crl-file\"/>, также проверяется список отзыва сертификатов (Certificate "
"Revocation List, CRL). (На странице <ulink url=\"http://h71000.www7.hp.com/"
"doc/83final/ba554_90007/ch04s02.html\"/> можно найти наглядные диаграммы, "
"иллюстрирующие применение сертификатов SSL.)"

#: runtime.xml:2241(para)
msgid ""
"The <literal>clientcert</literal> authentication option is available for all "
"authentication methods, but only in <filename>pg_hba.conf</filename> lines "
"specified as <literal>hostssl</literal>. When <literal>clientcert</literal> "
"is not specified or is set to 0, the server will still verify any presented "
"client certificates against its CA file, if one is configured &mdash; but it "
"will not insist that a client certificate be presented."
msgstr ""
"Параметр аутентификации <literal>clientcert</literal> можно использовать с "
"любым методом проверки подлинности, но только в строках <filename>pg_hba."
"conf</filename> типа <literal>hostssl</literal>. Когда <literal>clientcert</"
"literal> не задан или равен 0, сервер, тем не менее, будет проверять все "
"представленные клиентские сертификаты по своему файлу со списком ЦС (если он "
"настроен) &mdash; но позволит подключаться клиентам без сертификата."

#: runtime.xml:2250(para)
msgid ""
"Note that the server's <filename>root.crt</filename> lists the top-level CAs "
"that are considered trusted for signing client certificates. In principle it "
"need not list the CA that signed the server's certificate, though in most "
"cases that CA would also be trusted for client certificates."
msgstr ""
"Заметьте, что файл <filename>root.crt</filename> на сервере содержит "
"сертификаты центров сертификации верхнего уровня, которые считаются "
"доверенными для подписания клиентских сертификатов. В принципе в нём может "
"отсутствовать сертификат ЦС, подписавшего сертификат сервера, хотя в "
"большинстве случаев этот ЦС также должен быть доверенным для клиентских "
"сертификатов."

#: runtime.xml:2258(para)
msgid ""
"If you are setting up client certificates, you may wish to use the "
"<literal>cert</literal> authentication method, so that the certificates "
"control user authentication as well as providing connection security. See "
"<xref linkend=\"auth-cert\"/> for details. (It is not necessary to specify "
"<literal>clientcert=1</literal> explicitly when using the <literal>cert</"
"literal> authentication method.)"
msgstr ""
"Если вы используете клиентские сертификаты, вы можете также применить метод "
"аутентификации <literal>cert</literal>, чтобы сертификаты обеспечивали не "
"только защиту соединений, но и проверку подлинности пользователей. За "
"подробностями обратитесь к <xref remap=\"3\" linkend=\"auth-cert\"/>. "
"(Устанавливать <literal>clientcert=1</literal> явно при использовании метода "
"аутентификации <literal>cert</literal> не требуется.)"

#: runtime.xml:2269(title) runtime.xml:2278(title)
msgid "SSL Server File Usage"
msgstr "Файлы, используемые SSL-сервером"

#: runtime.xml:2271(para)
msgid ""
"<xref linkend=\"ssl-file-usage\"/> summarizes the files that are relevant to "
"the SSL setup on the server. (The shown file names are default or typical "
"names. The locally configured names could be different.)"
msgstr ""
"В <xref remap=\"6\" linkend=\"ssl-file-usage\"/> кратко описаны все файлы, "
"имеющие отношение к настройке SSL на сервере. (Здесь приведены стандартные "
"или типичные имена файлов. В конкретной системе они могут быть другими.)"

#: runtime.xml:2282(entry)
msgid "File"
msgstr "Файл"

#: runtime.xml:2283(entry)
msgid "Contents"
msgstr "Содержимое"

#: runtime.xml:2284(entry)
msgid "Effect"
msgstr "Назначение"

#: runtime.xml:2291(entry)
msgid ""
"<xref linkend=\"guc-ssl-cert-file\"/> (<filename>$PGDATA/server.crt</"
"filename>)"
msgstr ""
"<xref linkend=\"guc-ssl-cert-file\"/> (<filename>$PGDATA/server.crt</"
"filename>)"

#: runtime.xml:2292(entry)
msgid "server certificate"
msgstr "сертификат сервера"

#: runtime.xml:2293(entry)
msgid "sent to client to indicate server's identity"
msgstr "отправляется клиенту для идентификации сервера"

#: runtime.xml:2297(entry)
msgid ""
"<xref linkend=\"guc-ssl-key-file\"/> (<filename>$PGDATA/server.key</"
"filename>)"
msgstr ""
"<xref linkend=\"guc-ssl-key-file\"/> (<filename>$PGDATA/server.key</"
"filename>)"

#: runtime.xml:2298(entry)
msgid "server private key"
msgstr "закрытый ключ сервера"

#: runtime.xml:2299(entry)
msgid ""
"proves server certificate was sent by the owner; does not indicate "
"certificate owner is trustworthy"
msgstr ""
"подтверждает, что сертификат сервера был передан его владельцем; не "
"гарантирует, что его владельцу можно доверять"

#: runtime.xml:2304(entry)
msgid ""
"<xref linkend=\"guc-ssl-ca-file\"/> (<filename>$PGDATA/root.crt</filename>)"
msgstr ""
"<xref linkend=\"guc-ssl-ca-file\"/> (<filename>$PGDATA/root.crt</filename>)"

#: runtime.xml:2305(entry)
msgid "trusted certificate authorities"
msgstr "сертификаты доверенных ЦС"

#: runtime.xml:2306(entry)
msgid ""
"checks that client certificate is signed by a trusted certificate authority"
msgstr ""
"позволяет проверить, что сертификат клиента подписан доверенным центром "
"сертификации"

#: runtime.xml:2311(entry)
msgid ""
"<xref linkend=\"guc-ssl-crl-file\"/> (<filename>$PGDATA/root.crl</filename>)"
msgstr ""
"<xref linkend=\"guc-ssl-crl-file\"/> (<filename>$PGDATA/root.crl</filename>)"

#: runtime.xml:2312(entry)
msgid "certificates revoked by certificate authorities"
msgstr "сертификаты, отозванные центрами сертификации"

#: runtime.xml:2313(entry)
msgid "client certificate must not be on this list"
msgstr "сертификат клиента должен отсутствовать в этом списке"

#: runtime.xml:2320(para)
msgid ""
"The files <filename>server.key</filename>, <filename>server.crt</filename>, "
"<filename>root.crt</filename>, and <filename>root.crl</filename> (or their "
"configured alternative names) are only examined during server start; so you "
"must restart the server for changes in them to take effect."
msgstr ""
"Файлы <filename>server.key</filename>, <filename>server.crt</filename>, "
"<filename>root.crt</filename> и <filename>root.crl</filename> (или "
"альтернативные файлы, заменяющие их) считываются только при запуске сервера; "
"поэтому сервер необходимо перезапустить, чтобы изменения в них вступили в "
"силу."

#: runtime.xml:2330(title)
msgid "Creating a Self-signed Certificate"
msgstr "Создание самоподписанного сертификата"

#: runtime.xml:2335(programlisting)
#, no-wrap
msgid "openssl req -new -text -out server.req"
msgstr "openssl req -new -text -out server.req"

#: runtime.xml:2344(programlisting)
#, no-wrap
msgid ""
"openssl rsa -in privkey.pem -out server.key\n"
"rm privkey.pem"
msgstr ""
"openssl rsa -in privkey.pem -out server.key\n"
"rm privkey.pem"

#: runtime.xml:2349(programlisting)
#, no-wrap
msgid "openssl req -x509 -in server.req -text -key server.key -out server.crt"
msgstr "openssl req -x509 -in server.req -text -key server.key -out server.crt"

#: runtime.xml:2355(programlisting)
#, no-wrap
msgid "chmod og-rwx server.key"
msgstr "chmod og-rwx server.key"

#: runtime.xml:2332(para)
msgid ""
"To create a quick self-signed certificate for the server, use the following "
"<productname>OpenSSL</productname> command: <placeholder-1/> Fill out the "
"information that <application>openssl</application> asks for. Make sure you "
"enter the local host name as <quote>Common Name</quote>; the challenge "
"password can be left blank. The program will generate a key that is "
"passphrase protected; it will not accept a passphrase that is less than four "
"characters long. To remove the passphrase (as you must if you want automatic "
"start-up of the server), run the commands: <placeholder-2/> Enter the old "
"passphrase to unlock the existing key. Now do: <placeholder-3/> to turn the "
"certificate into a self-signed certificate and to copy the key and "
"certificate to where the server will look for them. Finally do: "
"<placeholder-4/> because the server will reject the file if its permissions "
"are more liberal than this. For more details on how to create your server "
"private key and certificate, refer to the <productname>OpenSSL</productname> "
"documentation."
msgstr ""
"Чтобы создать самоподписанный сертификат для сервера быстрым способом, "
"выполните следующую команду <productname>OpenSSL</productname>: "
"<placeholder-1/> Введите информацию, которую запрашивает "
"<application>openssl</application>. Обязательно укажите правильное имя "
"локального компьютера в поле <quote>Common Name</quote> (Общее имя); пароль "
"запроса можно оставить пустым. Программа сгенерирует ключ, защищённый "
"паролем; она не примет пароль короче четырёх символов. Чтобы удалить пароль "
"(вы должны сделать это, если хотите, чтобы сервер запускался автоматически), "
"выполните такие команды: <placeholder-2/> Введите старый пароль, чтобы "
"разблокировать файл ключа. Теперь выполните: <placeholder-3/> В результате "
"вы получите самоподписанный сертификат, и затем нужно будет скопировать ключ "
"и сертификат туда, где их будет искать сервер. Наконец, выполните: "
"<placeholder-4/> Сервер не примет этот файл, если для него будут заданы "
"более либеральные права доступа. Подробнее узнать о том, как создаётся "
"закрытый ключ и сертификат сервера, можно в документации "
"<productname>OpenSSL</productname>."

#: runtime.xml:2364(para)
msgid ""
"A self-signed certificate can be used for testing, but a certificate signed "
"by a certificate authority (<acronym>CA</acronym>) (either one of the global "
"<acronym>CAs</acronym> or a local one) should be used in production so that "
"clients can verify the server's identity. If all the clients are local to "
"the organization, using a local <acronym>CA</acronym> is recommended."
msgstr ""
"Самоподписанный сертификат можно использовать при тестировании, но для "
"производственной среды необходимо получить сертификат, подписанный центром "
"сертификации (<acronym>ЦС</acronym>) (одним из глобальных <acronym>ЦС</"
"acronym> или локальным), чтобы клиенты могли проверять подлинность сервера. "
"Если все клиенты относятся к одной организации, рекомендуется использовать "
"локальный <acronym>ЦС</acronym>."

#: runtime.xml:2378(title)
msgid "Secure TCP/IP Connections with <application>SSH</application> Tunnels"
msgstr ""
"Защита соединений TCP/IP с применением туннелей <application>SSH</"
"application>"

#: runtime.xml:2380(indexterm)
msgid "<primary>ssh</primary>"
msgstr "<primary>ssh</primary>"

#: runtime.xml:2384(para)
msgid ""
"It is possible to use <application>SSH</application> to encrypt the network "
"connection between clients and a <productname>PostgreSQL</productname> "
"server. Done properly, this provides an adequately secure network "
"connection, even for non-SSL-capable clients."
msgstr ""
"Для защиты сетевых соединений клиентов с сервером <productname>PostgreSQL</"
"productname> можно применить <application>SSH</application>. При правильном "
"подходе это позволяет обеспечить должный уровень защиты сетевого трафика, "
"даже для клиентов, не поддерживающих SSL."

#: runtime.xml:2398(programlisting)
#, no-wrap
msgid "ssh -L 63333:localhost:5432 joe@foo.com"
msgstr "ssh -L 63333:localhost:5432 joe@foo.com"

#: runtime.xml:2411(programlisting)
#, no-wrap
msgid "psql -h localhost -p 63333 postgres"
msgstr "psql -h localhost -p 63333 postgres"

#: runtime.xml:2392(para)
msgid ""
"First make sure that an <application>SSH</application> server is running "
"properly on the same machine as the <productname>PostgreSQL</productname> "
"server and that you can log in using <command>ssh</command> as some user. "
"Then you can establish a secure tunnel with a command like this from the "
"client machine: <placeholder-1/> The first number in the <option>-L</option> "
"argument, 63333, is the port number of your end of the tunnel; it can be any "
"unused port. (IANA reserves ports 49152 through 65535 for private use.) The "
"second number, 5432, is the remote end of the tunnel: the port number your "
"server is using. The name or IP address between the port numbers is the host "
"with the database server you are going to connect to, as seen from the host "
"you are logging in to, which is <literal>foo.com</literal> in this example. "
"In order to connect to the database server using this tunnel, you connect to "
"port 63333 on the local machine: <placeholder-2/> To the database server it "
"will then look as though you are really user <literal>joe</literal> on host "
"<literal>foo.com</literal> connecting to <literal>localhost</literal> in "
"that context, and it will use whatever authentication procedure was "
"configured for connections from this user and host. Note that the server "
"will not think the connection is SSL-encrypted, since in fact it is not "
"encrypted between the <application>SSH</application> server and the "
"<productname>PostgreSQL</productname> server. This should not pose any extra "
"security risk as long as they are on the same machine."
msgstr ""
"Прежде всего, убедитесь, что на компьютере с сервером "
"<productname>PostgreSQL</productname> также работает сервер "
"<application>SSH</application> и вы можете подключиться к нему через "
"<command>ssh</command> каким-нибудь пользователем. Затем вы можете "
"установить защищённый тоннель с клиентской машины следующим образом: "
"<placeholder-1/> Первое число в аргументе <option>-L</option>, 63333 — это "
"номер порта с вашей стороны туннеля; это может быть номер любого свободного "
"порта. (IANA резервирует порты с 49152 по 65535 для частного использования.) "
"Второе число, 5432 — порт с удалённой стороны туннеля, порт вашего сервера. "
"Имя или IP-адрес между этими номерами портов идентифицирует целевой "
"компьютер (где работает сервер баз данных, к которому вы будете "
"подключаться), с точки зрения компьютера, с которого выполняется подключение "
"(в данном примере, <literal>foo.com</literal>). Чтобы подключиться к этому "
"серверу через созданный тоннель, вы можете подключиться к порту 63333 на "
"локальном компьютере: <placeholder-2/> Для сервера баз данных это будет "
"выглядеть так, как будто вы действительно пользователь <literal>joe</"
"literal> компьютера <literal>foo.com</literal>, подключающийся к "
"<literal>localhost</literal> в этом контексте, и он будет применять ту "
"процедуру проверки подлинности, которая установлена для подключений данного "
"пользователя с этого компьютера. Заметьте, что сервер не будет считать такое "
"соединение защищённым SSL, так как на самом деле трафик между сервером "
"<application>SSH</application> и сервером <productname>PostgreSQL</"
"productname> не защищён. Это не должно нести какие-то дополнительные риски, "
"так как эти серверы работают на одном компьютере."

#: runtime.xml:2426(para)
msgid ""
"In order for the tunnel setup to succeed you must be allowed to connect via "
"<command>ssh</command> as <literal>joe@foo.com</literal>, just as if you had "
"attempted to use <command>ssh</command> to create a terminal session."
msgstr ""
"Чтобы настроенный таким образом туннель работал, вы должны иметь возможность "
"подключаться к компьютеру через <command>ssh</command> под именем "
"<literal>joe@foo.com</literal>, так же, как это происходит при установлении "
"терминального подключения с помощью <command>ssh</command>."

#: runtime.xml:2436(programlisting)
#, no-wrap
msgid "ssh -L 63333:foo.com:5432 joe@foo.com"
msgstr "ssh -L 63333:foo.com:5432 joe@foo.com"

#: runtime.xml:2434(para)
msgid ""
"You could also have set up the port forwarding as <placeholder-1/> but then "
"the database server will see the connection as coming in on its <literal>foo."
"com</literal> interface, which is not opened by the default setting "
"<literal>listen_addresses = 'localhost'</literal>. This is usually not what "
"you want."
msgstr ""
"Вы также можете настроить перенаправление портов примерно так: "
"<placeholder-1/> Но в этом случае для сервера баз данных подключение будет "
"приходить с его интерфейса <literal>foo.com</literal>, а этот интерфейс по "
"умолчанию не прослушивается (вследствие указания <literal>listen_addresses = "
"'localhost'</literal>). Обычно требуется другое поведение."

#: runtime.xml:2448(programlisting)
#, no-wrap
msgid "ssh -L 63333:db.foo.com:5432 joe@shell.foo.com"
msgstr "ssh -L 63333:db.foo.com:5432 joe@shell.foo.com"

#: runtime.xml:2445(para)
msgid ""
"If you have to <quote>hop</quote> to the database server via some login "
"host, one possible setup could look like this: <placeholder-1/> Note that "
"this way the connection from <literal>shell.foo.com</literal> to <literal>db."
"foo.com</literal> will not be encrypted by the SSH tunnel. SSH offers quite "
"a few configuration possibilities when the network is restricted in various "
"ways. Please refer to the SSH documentation for details."
msgstr ""
"Если вам нужно <quote>перейти</quote> к серверу баз данных через некоторый "
"шлюз, это можно организовать примерно так: <placeholder-1/> Заметьте, что в "
"этом случае трафик между <literal>shell.foo.com</literal> и <literal>db.foo."
"com</literal> не будет защищён туннелем SSH. SSH предлагает довольно много "
"вариантов конфигурации, что позволяет организовывать защиту сети разными "
"способами. За подробностями обратитесь к документации SSH."

#: runtime.xml:2461(para)
msgid ""
"Several other applications exist that can provide secure tunnels using a "
"procedure similar in concept to the one just described."
msgstr ""
"Существуют и другие приложения, которые могут создавать безопасные туннели, "
"применяя по сути тот же подход, что был описан выше."

#: runtime.xml:2470(title)
msgid ""
"Registering <application>Event Log</application> on <systemitem class="
"\"osname\">Windows</systemitem>"
msgstr ""
"Регистрация <application>журнала событий</application> в <systemitem class="
"\"osname\">Windows</systemitem>"

#: runtime.xml:2473(indexterm)
msgid "<primary>event log</primary> <secondary>event log</secondary>"
msgstr ""
"<primary>журнал событий</primary> <secondary>журнал событий</secondary>"

#: runtime.xml:2478(para)
msgid ""
"To register a <systemitem class=\"osname\">Windows</systemitem> "
"<application>event log</application> library with the operating system, "
"issue this command: <screen>\n"
"<userinput>regsvr32 <replaceable>pgsql_library_directory</replaceable>/"
"pgevent.dll</userinput>\n"
"</screen> This creates registry entries used by the event viewer, under the "
"default event source named <literal>PostgreSQL</literal>."
msgstr ""
"Чтобы зарегистрировать библиотеку <application>журнала событий</application> "
"в <systemitem class=\"osname\">Windows</systemitem>, выполните следующую "
"команду: <screen>\n"
"<userinput>regsvr32 <replaceable>каталог_библиотек_pgsql</replaceable>/"
"pgevent.dll</userinput>\n"
"</screen> При этом в реестре будут созданы необходимые записи для средства "
"просмотра событий, относящиеся к источнику событий по умолчанию с именем "
"<literal>PostgreSQL</literal>."

#: runtime.xml:2489(para)
msgid ""
"To specify a different event source name (see <xref linkend=\"guc-event-"
"source\"/>), use the <literal>/n</literal> and <literal>/i</literal> "
"options: <screen>\n"
"<userinput>regsvr32 /n /i:<replaceable>event_source_name</replaceable> "
"<replaceable>pgsql_library_directory</replaceable>/pgevent.dll</userinput>\n"
"</screen>"
msgstr ""
"Чтобы задать другое имя источника событий (см. <xref remap=\"4\" linkend="
"\"guc-event-source\"/>), укажите ключи <literal>/n</literal> и <literal>/i</"
"literal>: <screen>\n"
"<userinput>regsvr32 /n /i:<replaceable>имя_источника_событий</replaceable> "
"<replaceable>каталог_библиотек_pgsql</replaceable>/pgevent.dll</userinput>\n"
"</screen>"

#: runtime.xml:2498(para)
msgid ""
"To unregister the <application>event log</application> library from the "
"operating system, issue this command: <screen>\n"
"<userinput>regsvr32 /u [/i:<replaceable>event_source_name</replaceable>] "
"<replaceable>pgsql_library_directory</replaceable>/pgevent.dll</userinput>\n"
"</screen>"
msgstr ""
"Чтобы разрегистрировать библиотеку <application>журнала событий</"
"application> в операционной системе, выполните команду: <screen>\n"
"<userinput>regsvr32 /u [/i:<replaceable>имя_источника_событий</replaceable>] "
"<replaceable>каталог_библиотек_pgsql</replaceable>/pgevent.dll</userinput>\n"
"</screen>"

#: runtime.xml:2507(para)
msgid ""
"To enable event logging in the database server, modify <xref linkend=\"guc-"
"log-destination\"/> to include <literal>eventlog</literal> in "
"<filename>postgresql.conf</filename>."
msgstr ""
"Чтобы сервер баз данных записывал сообщения в журнал событий, добавьте "
"<literal>eventlog</literal> в параметр <xref linkend=\"guc-log-destination\"/"
"> в <filename>postgresql.conf</filename>."

#. Put one translator per line, in the form of NAME <EMAIL>, YEAR1, YEAR2
#: runtime.xml:0(None)
msgid "translator-credits"
msgstr "translator-credits"
